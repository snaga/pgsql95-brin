                                                                 QUERY PLAN                                                                 
--------------------------------------------------------------------------------------------------------------------------------------------
 GroupAggregate  (cost=742940.01..743122.78 rows=7311 width=20)
   Group Key: (substr((customer.c_phone)::text, 1, 2))
   InitPlan 1 (returns $0)
     ->  Aggregate  (cost=74776.57..74776.58 rows=1 width=4)
           ->  Seq Scan on customer customer_1  (cost=0.00..74656.72 rows=47942 width=4)
                 Filter: ((c_acctbal > '0'::double precision) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
   ->  Sort  (cost=668163.42..668181.70 rows=7311 width=20)
         Sort Key: (substr((customer.c_phone)::text, 1, 2))
         ->  Hash Anti Join  (cost=590781.89..667694.21 rows=7311 width=20)
               Hash Cond: (customer.c_custkey = orders.o_custkey)
               ->  Seq Scan on customer  (cost=0.00..74656.72 rows=17499 width=24)
                     Filter: ((c_acctbal > $0) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
               ->  Hash  (cost=403279.73..403279.73 rows=15000173 width=4)
                     ->  Seq Scan on orders  (cost=0.00..403279.73 rows=15000173 width=4)
(14 rows)

+-------+-------+--------+----------+---------+-------+------------+-------+-------+-------+-----------+----------+----------+---------------------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |   BLKS  |  SCAN |   T_READ   | T_INS | T_UPD | T_DEL |   B_READ  |  B_HIT   | VACUUMED |       ANALYZED      | TABLESPACE |
+-------+-------+--------+----------+---------+-------+------------+-------+-------+-------+-----------+----------+----------+---------------------+------------+
| 16593 | snaga | public | customer |   35284 |    36 |   43500000 |     0 |     0 |     0 |    559252 |   494114 |          | 2015-07-16 11:49:02 | pg_default |
| 16599 | snaga | public | lineitem | 1065410 |    63 | 2879374270 |     0 |     0 |     0 | 152933432 | 25127886 |          | 2015-07-16 11:50:15 | pg_default |
| 16602 | snaga | public | nation   |       1 |    61 |       1225 |     0 |     0 |     0 |        11 |   102793 |          | 2015-07-16 11:50:15 | pg_default |
| 16596 | snaga | public | orders   |  253278 |    22 |  270000000 |     0 |     0 |     0 |   6361097 | 21762828 |          | 2015-07-16 11:49:19 | pg_default |
| 16587 | snaga | public | part     |   40627 |    35 |   48002288 |     0 |     0 |     0 |    598830 |   571496 |          | 2015-07-16 11:48:52 | pg_default |
| 16590 | snaga | public | partsupp |  170916 |    27 |  176000000 |     0 |     0 |     0 |   3778586 |    40022 |          | 2015-07-16 11:48:59 | pg_default |
| 16605 | snaga | public | region   |       1 | 25656 |     128240 |     0 |     0 |     0 |         4 |    25685 |          | 2015-07-16 11:50:15 | pg_default |
| 16584 | snaga | public | supplier |    2180 |    30 |    2100000 |     0 |     0 |     0 |     39230 |   189958 |          | 2015-07-16 11:48:50 | pg_default |
+-------+-------+--------+----------+---------+-------+------------+-------+-------+-------+-----------+----------+----------+---------------------+------------+
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |         INDEX         |  BLKS  |   SCAN   |   T_READ  |  T_FTCH  | B_READ |  B_HIT   | STATUS | TABLESPACE |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
| 16619 | snaga | public | customer | pk_customer           |   4116 |      130 |       130 |      130 |     64 |      361 |        | pg_default |
| 16670 | snaga | public | customer | i_c_nationkey         |      3 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16677 | snaga | public | lineitem | i_l_commitdate        |     29 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16624 | snaga | public | lineitem | pk_lineitem           | 164480 |  2257851 |   4140871 |  4140871 | 405676 |  8637742 |        | pg_default |
| 16663 | snaga | public | lineitem | i_l_shipdate          |     29 |       20 | 213094400 |        0 |    546 |      174 |        | pg_default |
| 16664 | snaga | public | lineitem | i_l_suppkey_partkey   |     37 |       80 | 515456000 |        0 |   1379 |     2465 |        | pg_default |
| 16665 | snaga | public | lineitem | i_l_partkey           |     29 |       44 | 468807680 |        0 |   1125 |      419 |        | pg_default |
| 16666 | snaga | public | lineitem | i_l_suppkey           |     29 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16667 | snaga | public | lineitem | i_l_receiptdate       |     29 |        4 |  42618880 |        0 |    110 |       34 |        | pg_default |
| 16668 | snaga | public | lineitem | i_l_orderkey          |     29 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16669 | snaga | public | lineitem | i_l_orderkey_quantity |     37 |       12 | 127856640 |        0 |     87 |      501 |        | pg_default |
| 16627 | snaga | public | nation   | pk_nation             |      2 |   102754 |    102754 |   102754 |     25 |   102774 |        | pg_default |
| 16676 | snaga | public | nation   | i_n_regionkey         |      3 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16671 | snaga | public | orders   | i_o_orderdate         |      8 |       20 |  50662400 |        0 |     45 |      155 |        | pg_default |
| 16672 | snaga | public | orders   | i_o_custkey           |      8 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16622 | snaga | public | orders   | pk_orders             |  41131 | 18469361 |  18469361 | 18469361 |  82336 | 55426707 |        | pg_default |
| 16612 | snaga | public | part     | pk_part               |   5487 |      134 |   8000130 |  8000130 |   5569 |    16729 |        | pg_default |
| 16674 | snaga | public | partsupp | i_ps_partkey          |      6 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16675 | snaga | public | partsupp | i_ps_suppkey          |      6 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16616 | snaga | public | partsupp | pk_partsupp           |  21937 |    25736 |    102704 |   102704 |   4465 |    73132 |        | pg_default |
| 16629 | snaga | public | region   | pk_region             |      2 |       40 |        40 |       40 |      6 |       49 |        | pg_default |
| 16610 | snaga | public | supplier | pk_supplier           |    276 |   102748 |    102748 |   102748 |    322 |   205828 |        | pg_default |
| 16673 | snaga | public | supplier | i_s_nationkey         |      3 |       36 |    829440 |        0 |     16 |       60 |        | pg_default |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
SET
Timing is on.
                                                                  QUERY PLAN                                                                   
-----------------------------------------------------------------------------------------------------------------------------------------------
 GroupAggregate  (cost=742940.01..743122.78 rows=7311 width=20) (actual time=19555.962..19565.917 rows=7 loops=1)
   Group Key: (substr((customer.c_phone)::text, 1, 2))
   InitPlan 1 (returns $0)
     ->  Aggregate  (cost=74776.57..74776.58 rows=1 width=4) (actual time=2919.741..2919.741 rows=1 loops=1)
           ->  Seq Scan on customer customer_1  (cost=0.00..74656.72 rows=47942 width=4) (actual time=6.757..2888.471 rows=381209 loops=1)
                 Filter: ((c_acctbal > '0'::double precision) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
                 Rows Removed by Filter: 1118791
   ->  Sort  (cost=668163.42..668181.70 rows=7311 width=20) (actual time=19542.246..19545.086 rows=63564 loops=1)
         Sort Key: (substr((customer.c_phone)::text, 1, 2))
         Sort Method: quicksort  Memory: 4516kB
         ->  Hash Anti Join  (cost=590781.89..667694.21 rows=7311 width=20) (actual time=18949.768..19510.476 rows=63564 loops=1)
               Hash Cond: (customer.c_custkey = orders.o_custkey)
               ->  Seq Scan on customer  (cost=0.00..74656.72 rows=17499 width=24) (actual time=2919.758..3405.933 rows=190601 loops=1)
                     Filter: ((c_acctbal > $0) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
                     Rows Removed by Filter: 1309399
               ->  Hash  (cost=403279.73..403279.73 rows=15000173 width=4) (actual time=16013.119..16013.119 rows=15000000 loops=1)
                     Buckets: 16777216  Batches: 1  Memory Usage: 658416kB
                     ->  Seq Scan on orders  (cost=0.00..403279.73 rows=15000173 width=4) (actual time=0.007..13337.768 rows=15000000 loops=1)
 Planning time: 0.566 ms
 Execution time: 19568.602 ms
(20 rows)

Time: 19600.415 ms
+-------+-------+--------+----------+---------+-------+------------+-------+-------+-------+-----------+----------+----------+---------------------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |   BLKS  |  SCAN |   T_READ   | T_INS | T_UPD | T_DEL |   B_READ  |  B_HIT   | VACUUMED |       ANALYZED      | TABLESPACE |
+-------+-------+--------+----------+---------+-------+------------+-------+-------+-------+-----------+----------+----------+---------------------+------------+
| 16593 | snaga | public | customer |   35284 |    40 |   46500000 |     0 |     0 |     0 |    594536 |   529402 |          | 2015-07-16 11:49:02 | pg_default |
| 16599 | snaga | public | lineitem | 1065410 |    63 | 2879374270 |     0 |     0 |     0 | 152933432 | 25127886 |          | 2015-07-16 11:50:15 | pg_default |
| 16602 | snaga | public | nation   |       1 |    61 |       1225 |     0 |     0 |     0 |        11 |   102793 |          | 2015-07-16 11:50:15 | pg_default |
| 16596 | snaga | public | orders   |  253278 |    24 |  285000000 |     0 |     0 |     0 |   6400933 | 21976270 |          | 2015-07-16 11:49:19 | pg_default |
| 16587 | snaga | public | part     |   40627 |    35 |   48002288 |     0 |     0 |     0 |    598830 |   571496 |          | 2015-07-16 11:48:52 | pg_default |
| 16590 | snaga | public | partsupp |  170916 |    27 |  176000000 |     0 |     0 |     0 |   3778586 |    40022 |          | 2015-07-16 11:48:59 | pg_default |
| 16605 | snaga | public | region   |       1 | 25656 |     128240 |     0 |     0 |     0 |         4 |    25685 |          | 2015-07-16 11:50:15 | pg_default |
| 16584 | snaga | public | supplier |    2180 |    30 |    2100000 |     0 |     0 |     0 |     39230 |   189958 |          | 2015-07-16 11:48:50 | pg_default |
+-------+-------+--------+----------+---------+-------+------------+-------+-------+-------+-----------+----------+----------+---------------------+------------+
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |         INDEX         |  BLKS  |   SCAN   |   T_READ  |  T_FTCH  | B_READ |  B_HIT   | STATUS | TABLESPACE |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
| 16619 | snaga | public | customer | pk_customer           |   4116 |      134 |       134 |      134 |     70 |      369 |        | pg_default |
| 16670 | snaga | public | customer | i_c_nationkey         |      3 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16677 | snaga | public | lineitem | i_l_commitdate        |     29 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16624 | snaga | public | lineitem | pk_lineitem           | 164480 |  2257851 |   4140871 |  4140871 | 405676 |  8637742 |        | pg_default |
| 16663 | snaga | public | lineitem | i_l_shipdate          |     29 |       20 | 213094400 |        0 |    546 |      174 |        | pg_default |
| 16664 | snaga | public | lineitem | i_l_suppkey_partkey   |     37 |       80 | 515456000 |        0 |   1379 |     2465 |        | pg_default |
| 16665 | snaga | public | lineitem | i_l_partkey           |     29 |       44 | 468807680 |        0 |   1125 |      419 |        | pg_default |
| 16666 | snaga | public | lineitem | i_l_suppkey           |     29 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16667 | snaga | public | lineitem | i_l_receiptdate       |     29 |        4 |  42618880 |        0 |    110 |       34 |        | pg_default |
| 16668 | snaga | public | lineitem | i_l_orderkey          |     29 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16669 | snaga | public | lineitem | i_l_orderkey_quantity |     37 |       12 | 127856640 |        0 |     87 |      501 |        | pg_default |
| 16627 | snaga | public | nation   | pk_nation             |      2 |   102754 |    102754 |   102754 |     25 |   102774 |        | pg_default |
| 16676 | snaga | public | nation   | i_n_regionkey         |      3 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16671 | snaga | public | orders   | i_o_orderdate         |      8 |       20 |  50662400 |        0 |     45 |      155 |        | pg_default |
| 16672 | snaga | public | orders   | i_o_custkey           |      8 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16622 | snaga | public | orders   | pk_orders             |  41131 | 18469361 |  18469361 | 18469361 |  82337 | 55426708 |        | pg_default |
| 16612 | snaga | public | part     | pk_part               |   5487 |      134 |   8000130 |  8000130 |   5569 |    16729 |        | pg_default |
| 16674 | snaga | public | partsupp | i_ps_partkey          |      6 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16675 | snaga | public | partsupp | i_ps_suppkey          |      6 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16616 | snaga | public | partsupp | pk_partsupp           |  21937 |    25736 |    102704 |   102704 |   4465 |    73132 |        | pg_default |
| 16629 | snaga | public | region   | pk_region             |      2 |       40 |        40 |       40 |      6 |       49 |        | pg_default |
| 16610 | snaga | public | supplier | pk_supplier           |    276 |   102748 |    102748 |   102748 |    322 |   205828 |        | pg_default |
| 16673 | snaga | public | supplier | i_s_nationkey         |      3 |       36 |    829440 |        0 |     16 |       60 |        | pg_default |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
SET
Timing is on.
                                                                  QUERY PLAN                                                                  
----------------------------------------------------------------------------------------------------------------------------------------------
 GroupAggregate  (cost=742940.01..743122.78 rows=7311 width=20) (actual time=6167.557..6177.503 rows=7 loops=1)
   Group Key: (substr((customer.c_phone)::text, 1, 2))
   InitPlan 1 (returns $0)
     ->  Aggregate  (cost=74776.57..74776.58 rows=1 width=4) (actual time=851.574..851.574 rows=1 loops=1)
           ->  Seq Scan on customer customer_1  (cost=0.00..74656.72 rows=47942 width=4) (actual time=0.010..821.334 rows=381209 loops=1)
                 Filter: ((c_acctbal > '0'::double precision) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
                 Rows Removed by Filter: 1118791
   ->  Sort  (cost=668163.42..668181.70 rows=7311 width=20) (actual time=6165.862..6168.720 rows=63564 loops=1)
         Sort Key: (substr((customer.c_phone)::text, 1, 2))
         Sort Method: quicksort  Memory: 4516kB
         ->  Hash Anti Join  (cost=590781.89..667694.21 rows=7311 width=20) (actual time=5590.758..6149.545 rows=63564 loops=1)
               Hash Cond: (customer.c_custkey = orders.o_custkey)
               ->  Seq Scan on customer  (cost=0.00..74656.72 rows=17499 width=24) (actual time=851.591..1336.511 rows=190601 loops=1)
                     Filter: ((c_acctbal > $0) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
                     Rows Removed by Filter: 1309399
               ->  Hash  (cost=403279.73..403279.73 rows=15000173 width=4) (actual time=4722.256..4722.256 rows=15000000 loops=1)
                     Buckets: 16777216  Batches: 1  Memory Usage: 658416kB
                     ->  Seq Scan on orders  (cost=0.00..403279.73 rows=15000173 width=4) (actual time=0.006..2095.888 rows=15000000 loops=1)
 Planning time: 0.567 ms
 Execution time: 6180.160 ms
(20 rows)

Time: 6211.016 ms
+-------+-------+--------+----------+---------+-------+------------+-------+-------+-------+-----------+----------+----------+---------------------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |   BLKS  |  SCAN |   T_READ   | T_INS | T_UPD | T_DEL |   B_READ  |  B_HIT   | VACUUMED |       ANALYZED      | TABLESPACE |
+-------+-------+--------+----------+---------+-------+------------+-------+-------+-------+-----------+----------+----------+---------------------+------------+
| 16593 | snaga | public | customer |   35284 |    42 |   49500000 |     0 |     0 |     0 |    594536 |   599972 |          | 2015-07-16 11:49:02 | pg_default |
| 16599 | snaga | public | lineitem | 1065410 |    63 | 2879374270 |     0 |     0 |     0 | 152933432 | 25127886 |          | 2015-07-16 11:50:15 | pg_default |
| 16602 | snaga | public | nation   |       1 |    61 |       1225 |     0 |     0 |     0 |        11 |   102793 |          | 2015-07-16 11:50:15 | pg_default |
| 16596 | snaga | public | orders   |  253278 |    25 |  300000000 |     0 |     0 |     0 |   6440737 | 22189744 |          | 2015-07-16 11:49:19 | pg_default |
| 16587 | snaga | public | part     |   40627 |    35 |   48002288 |     0 |     0 |     0 |    598830 |   571496 |          | 2015-07-16 11:48:52 | pg_default |
| 16590 | snaga | public | partsupp |  170916 |    27 |  176000000 |     0 |     0 |     0 |   3778586 |    40022 |          | 2015-07-16 11:48:59 | pg_default |
| 16605 | snaga | public | region   |       1 | 25656 |     128240 |     0 |     0 |     0 |         4 |    25685 |          | 2015-07-16 11:50:15 | pg_default |
| 16584 | snaga | public | supplier |    2180 |    30 |    2100000 |     0 |     0 |     0 |     39230 |   189958 |          | 2015-07-16 11:48:50 | pg_default |
+-------+-------+--------+----------+---------+-------+------------+-------+-------+-------+-----------+----------+----------+---------------------+------------+
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |         INDEX         |  BLKS  |   SCAN   |   T_READ  |  T_FTCH  | B_READ |  B_HIT   | STATUS | TABLESPACE |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
| 16619 | snaga | public | customer | pk_customer           |   4116 |      136 |       136 |      136 |     70 |      376 |        | pg_default |
| 16670 | snaga | public | customer | i_c_nationkey         |      3 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16677 | snaga | public | lineitem | i_l_commitdate        |     29 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16624 | snaga | public | lineitem | pk_lineitem           | 164480 |  2257851 |   4140871 |  4140871 | 405676 |  8637742 |        | pg_default |
| 16663 | snaga | public | lineitem | i_l_shipdate          |     29 |       20 | 213094400 |        0 |    546 |      174 |        | pg_default |
| 16664 | snaga | public | lineitem | i_l_suppkey_partkey   |     37 |       80 | 515456000 |        0 |   1379 |     2465 |        | pg_default |
| 16665 | snaga | public | lineitem | i_l_partkey           |     29 |       44 | 468807680 |        0 |   1125 |      419 |        | pg_default |
| 16666 | snaga | public | lineitem | i_l_suppkey           |     29 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16667 | snaga | public | lineitem | i_l_receiptdate       |     29 |        4 |  42618880 |        0 |    110 |       34 |        | pg_default |
| 16668 | snaga | public | lineitem | i_l_orderkey          |     29 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16669 | snaga | public | lineitem | i_l_orderkey_quantity |     37 |       12 | 127856640 |        0 |     87 |      501 |        | pg_default |
| 16627 | snaga | public | nation   | pk_nation             |      2 |   102754 |    102754 |   102754 |     25 |   102774 |        | pg_default |
| 16676 | snaga | public | nation   | i_n_regionkey         |      3 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16671 | snaga | public | orders   | i_o_orderdate         |      8 |       20 |  50662400 |        0 |     45 |      155 |        | pg_default |
| 16672 | snaga | public | orders   | i_o_custkey           |      8 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16622 | snaga | public | orders   | pk_orders             |  41131 | 18469361 |  18469361 | 18469361 |  82337 | 55426709 |        | pg_default |
| 16612 | snaga | public | part     | pk_part               |   5487 |      134 |   8000130 |  8000130 |   5569 |    16729 |        | pg_default |
| 16674 | snaga | public | partsupp | i_ps_partkey          |      6 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16675 | snaga | public | partsupp | i_ps_suppkey          |      6 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16616 | snaga | public | partsupp | pk_partsupp           |  21937 |    25736 |    102704 |   102704 |   4465 |    73132 |        | pg_default |
| 16629 | snaga | public | region   | pk_region             |      2 |       40 |        40 |       40 |      6 |       49 |        | pg_default |
| 16610 | snaga | public | supplier | pk_supplier           |    276 |   102748 |    102748 |   102748 |    322 |   205828 |        | pg_default |
| 16673 | snaga | public | supplier | i_s_nationkey         |      3 |       36 |    829440 |        0 |     16 |       60 |        | pg_default |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
SET
Timing is on.
                                                                  QUERY PLAN                                                                  
----------------------------------------------------------------------------------------------------------------------------------------------
 GroupAggregate  (cost=742940.01..743122.78 rows=7311 width=20) (actual time=6154.853..6164.802 rows=7 loops=1)
   Group Key: (substr((customer.c_phone)::text, 1, 2))
   InitPlan 1 (returns $0)
     ->  Aggregate  (cost=74776.57..74776.58 rows=1 width=4) (actual time=851.588..851.588 rows=1 loops=1)
           ->  Seq Scan on customer customer_1  (cost=0.00..74656.72 rows=47942 width=4) (actual time=0.010..821.434 rows=381209 loops=1)
                 Filter: ((c_acctbal > '0'::double precision) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
                 Rows Removed by Filter: 1118791
   ->  Sort  (cost=668163.42..668181.70 rows=7311 width=20) (actual time=6153.159..6155.954 rows=63564 loops=1)
         Sort Key: (substr((customer.c_phone)::text, 1, 2))
         Sort Method: quicksort  Memory: 4516kB
         ->  Hash Anti Join  (cost=590781.89..667694.21 rows=7311 width=20) (actual time=5577.650..6136.668 rows=63564 loops=1)
               Hash Cond: (customer.c_custkey = orders.o_custkey)
               ->  Seq Scan on customer  (cost=0.00..74656.72 rows=17499 width=24) (actual time=851.606..1336.867 rows=190601 loops=1)
                     Filter: ((c_acctbal > $0) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
                     Rows Removed by Filter: 1309399
               ->  Hash  (cost=403279.73..403279.73 rows=15000173 width=4) (actual time=4709.120..4709.120 rows=15000000 loops=1)
                     Buckets: 16777216  Batches: 1  Memory Usage: 658416kB
                     ->  Seq Scan on orders  (cost=0.00..403279.73 rows=15000173 width=4) (actual time=0.008..2077.861 rows=15000000 loops=1)
 Planning time: 0.553 ms
 Execution time: 6167.461 ms
(20 rows)

Time: 6198.836 ms
+-------+-------+--------+----------+---------+-------+------------+-------+-------+-------+-----------+----------+----------+---------------------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |   BLKS  |  SCAN |   T_READ   | T_INS | T_UPD | T_DEL |   B_READ  |  B_HIT   | VACUUMED |       ANALYZED      | TABLESPACE |
+-------+-------+--------+----------+---------+-------+------------+-------+-------+-------+-----------+----------+----------+---------------------+------------+
| 16593 | snaga | public | customer |   35284 |    44 |   52500000 |     0 |     0 |     0 |    594536 |   670542 |          | 2015-07-16 11:49:02 | pg_default |
| 16599 | snaga | public | lineitem | 1065410 |    63 | 2879374270 |     0 |     0 |     0 | 152933432 | 25127886 |          | 2015-07-16 11:50:15 | pg_default |
| 16602 | snaga | public | nation   |       1 |    61 |       1225 |     0 |     0 |     0 |        11 |   102793 |          | 2015-07-16 11:50:15 | pg_default |
| 16596 | snaga | public | orders   |  253278 |    26 |  315000000 |     0 |     0 |     0 |   6480509 | 22403250 |          | 2015-07-16 11:49:19 | pg_default |
| 16587 | snaga | public | part     |   40627 |    35 |   48002288 |     0 |     0 |     0 |    598830 |   571496 |          | 2015-07-16 11:48:52 | pg_default |
| 16590 | snaga | public | partsupp |  170916 |    27 |  176000000 |     0 |     0 |     0 |   3778586 |    40022 |          | 2015-07-16 11:48:59 | pg_default |
| 16605 | snaga | public | region   |       1 | 25656 |     128240 |     0 |     0 |     0 |         4 |    25685 |          | 2015-07-16 11:50:15 | pg_default |
| 16584 | snaga | public | supplier |    2180 |    30 |    2100000 |     0 |     0 |     0 |     39230 |   189958 |          | 2015-07-16 11:48:50 | pg_default |
+-------+-------+--------+----------+---------+-------+------------+-------+-------+-------+-----------+----------+----------+---------------------+------------+
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |         INDEX         |  BLKS  |   SCAN   |   T_READ  |  T_FTCH  | B_READ |  B_HIT   | STATUS | TABLESPACE |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
| 16619 | snaga | public | customer | pk_customer           |   4116 |      138 |       138 |      138 |     70 |      383 |        | pg_default |
| 16670 | snaga | public | customer | i_c_nationkey         |      3 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16677 | snaga | public | lineitem | i_l_commitdate        |     29 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16624 | snaga | public | lineitem | pk_lineitem           | 164480 |  2257851 |   4140871 |  4140871 | 405676 |  8637742 |        | pg_default |
| 16663 | snaga | public | lineitem | i_l_shipdate          |     29 |       20 | 213094400 |        0 |    546 |      174 |        | pg_default |
| 16664 | snaga | public | lineitem | i_l_suppkey_partkey   |     37 |       80 | 515456000 |        0 |   1379 |     2465 |        | pg_default |
| 16665 | snaga | public | lineitem | i_l_partkey           |     29 |       44 | 468807680 |        0 |   1125 |      419 |        | pg_default |
| 16666 | snaga | public | lineitem | i_l_suppkey           |     29 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16667 | snaga | public | lineitem | i_l_receiptdate       |     29 |        4 |  42618880 |        0 |    110 |       34 |        | pg_default |
| 16668 | snaga | public | lineitem | i_l_orderkey          |     29 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16669 | snaga | public | lineitem | i_l_orderkey_quantity |     37 |       12 | 127856640 |        0 |     87 |      501 |        | pg_default |
| 16627 | snaga | public | nation   | pk_nation             |      2 |   102754 |    102754 |   102754 |     25 |   102774 |        | pg_default |
| 16676 | snaga | public | nation   | i_n_regionkey         |      3 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16671 | snaga | public | orders   | i_o_orderdate         |      8 |       20 |  50662400 |        0 |     45 |      155 |        | pg_default |
| 16672 | snaga | public | orders   | i_o_custkey           |      8 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16622 | snaga | public | orders   | pk_orders             |  41131 | 18469361 |  18469361 | 18469361 |  82337 | 55426710 |        | pg_default |
| 16612 | snaga | public | part     | pk_part               |   5487 |      134 |   8000130 |  8000130 |   5569 |    16729 |        | pg_default |
| 16674 | snaga | public | partsupp | i_ps_partkey          |      6 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16675 | snaga | public | partsupp | i_ps_suppkey          |      6 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16616 | snaga | public | partsupp | pk_partsupp           |  21937 |    25736 |    102704 |   102704 |   4465 |    73132 |        | pg_default |
| 16629 | snaga | public | region   | pk_region             |      2 |       40 |        40 |       40 |      6 |       49 |        | pg_default |
| 16610 | snaga | public | supplier | pk_supplier           |    276 |   102748 |    102748 |   102748 |    322 |   205828 |        | pg_default |
| 16673 | snaga | public | supplier | i_s_nationkey         |      3 |       36 |    829440 |        0 |     16 |       60 |        | pg_default |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
SET
Timing is on.
                                                                  QUERY PLAN                                                                  
----------------------------------------------------------------------------------------------------------------------------------------------
 GroupAggregate  (cost=742940.01..743122.78 rows=7311 width=20) (actual time=6164.196..6174.145 rows=7 loops=1)
   Group Key: (substr((customer.c_phone)::text, 1, 2))
   InitPlan 1 (returns $0)
     ->  Aggregate  (cost=74776.57..74776.58 rows=1 width=4) (actual time=851.220..851.220 rows=1 loops=1)
           ->  Seq Scan on customer customer_1  (cost=0.00..74656.72 rows=47942 width=4) (actual time=0.010..820.976 rows=381209 loops=1)
                 Filter: ((c_acctbal > '0'::double precision) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
                 Rows Removed by Filter: 1118791
   ->  Sort  (cost=668163.42..668181.70 rows=7311 width=20) (actual time=6162.500..6165.359 rows=63564 loops=1)
         Sort Key: (substr((customer.c_phone)::text, 1, 2))
         Sort Method: quicksort  Memory: 4516kB
         ->  Hash Anti Join  (cost=590781.89..667694.21 rows=7311 width=20) (actual time=5586.807..6146.083 rows=63564 loops=1)
               Hash Cond: (customer.c_custkey = orders.o_custkey)
               ->  Seq Scan on customer  (cost=0.00..74656.72 rows=17499 width=24) (actual time=851.236..1336.639 rows=190601 loops=1)
                     Filter: ((c_acctbal > $0) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
                     Rows Removed by Filter: 1309399
               ->  Hash  (cost=403279.73..403279.73 rows=15000173 width=4) (actual time=4718.653..4718.653 rows=15000000 loops=1)
                     Buckets: 16777216  Batches: 1  Memory Usage: 658416kB
                     ->  Seq Scan on orders  (cost=0.00..403279.73 rows=15000173 width=4) (actual time=0.007..2077.391 rows=15000000 loops=1)
 Planning time: 0.553 ms
 Execution time: 6176.818 ms
(20 rows)

Time: 6208.212 ms
+-------+-------+--------+----------+---------+-------+------------+-------+-------+-------+-----------+----------+----------+---------------------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |   BLKS  |  SCAN |   T_READ   | T_INS | T_UPD | T_DEL |   B_READ  |  B_HIT   | VACUUMED |       ANALYZED      | TABLESPACE |
+-------+-------+--------+----------+---------+-------+------------+-------+-------+-------+-----------+----------+----------+---------------------+------------+
| 16593 | snaga | public | customer |   35284 |    46 |   55500000 |     0 |     0 |     0 |    594536 |   741112 |          | 2015-07-16 11:49:02 | pg_default |
| 16599 | snaga | public | lineitem | 1065410 |    63 | 2879374270 |     0 |     0 |     0 | 152933432 | 25127886 |          | 2015-07-16 11:50:15 | pg_default |
| 16602 | snaga | public | nation   |       1 |    61 |       1225 |     0 |     0 |     0 |        11 |   102793 |          | 2015-07-16 11:50:15 | pg_default |
| 16596 | snaga | public | orders   |  253278 |    27 |  330000000 |     0 |     0 |     0 |   6520249 | 22616788 |          | 2015-07-16 11:49:19 | pg_default |
| 16587 | snaga | public | part     |   40627 |    35 |   48002288 |     0 |     0 |     0 |    598830 |   571496 |          | 2015-07-16 11:48:52 | pg_default |
| 16590 | snaga | public | partsupp |  170916 |    27 |  176000000 |     0 |     0 |     0 |   3778586 |    40022 |          | 2015-07-16 11:48:59 | pg_default |
| 16605 | snaga | public | region   |       1 | 25656 |     128240 |     0 |     0 |     0 |         4 |    25685 |          | 2015-07-16 11:50:15 | pg_default |
| 16584 | snaga | public | supplier |    2180 |    30 |    2100000 |     0 |     0 |     0 |     39230 |   189958 |          | 2015-07-16 11:48:50 | pg_default |
+-------+-------+--------+----------+---------+-------+------------+-------+-------+-------+-----------+----------+----------+---------------------+------------+
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |         INDEX         |  BLKS  |   SCAN   |   T_READ  |  T_FTCH  | B_READ |  B_HIT   | STATUS | TABLESPACE |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
| 16619 | snaga | public | customer | pk_customer           |   4116 |      140 |       140 |      140 |     70 |      390 |        | pg_default |
| 16670 | snaga | public | customer | i_c_nationkey         |      3 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16677 | snaga | public | lineitem | i_l_commitdate        |     29 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16624 | snaga | public | lineitem | pk_lineitem           | 164480 |  2257851 |   4140871 |  4140871 | 405676 |  8637742 |        | pg_default |
| 16663 | snaga | public | lineitem | i_l_shipdate          |     29 |       20 | 213094400 |        0 |    546 |      174 |        | pg_default |
| 16664 | snaga | public | lineitem | i_l_suppkey_partkey   |     37 |       80 | 515456000 |        0 |   1379 |     2465 |        | pg_default |
| 16665 | snaga | public | lineitem | i_l_partkey           |     29 |       44 | 468807680 |        0 |   1125 |      419 |        | pg_default |
| 16666 | snaga | public | lineitem | i_l_suppkey           |     29 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16667 | snaga | public | lineitem | i_l_receiptdate       |     29 |        4 |  42618880 |        0 |    110 |       34 |        | pg_default |
| 16668 | snaga | public | lineitem | i_l_orderkey          |     29 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16669 | snaga | public | lineitem | i_l_orderkey_quantity |     37 |       12 | 127856640 |        0 |     87 |      501 |        | pg_default |
| 16627 | snaga | public | nation   | pk_nation             |      2 |   102754 |    102754 |   102754 |     25 |   102774 |        | pg_default |
| 16676 | snaga | public | nation   | i_n_regionkey         |      3 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16671 | snaga | public | orders   | i_o_orderdate         |      8 |       20 |  50662400 |        0 |     45 |      155 |        | pg_default |
| 16672 | snaga | public | orders   | i_o_custkey           |      8 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16622 | snaga | public | orders   | pk_orders             |  41131 | 18469361 |  18469361 | 18469361 |  82337 | 55426711 |        | pg_default |
| 16612 | snaga | public | part     | pk_part               |   5487 |      134 |   8000130 |  8000130 |   5569 |    16729 |        | pg_default |
| 16674 | snaga | public | partsupp | i_ps_partkey          |      6 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16675 | snaga | public | partsupp | i_ps_suppkey          |      6 |        0 |         0 |        0 |      0 |        0 |        | pg_default |
| 16616 | snaga | public | partsupp | pk_partsupp           |  21937 |    25736 |    102704 |   102704 |   4465 |    73132 |        | pg_default |
| 16629 | snaga | public | region   | pk_region             |      2 |       40 |        40 |       40 |      6 |       49 |        | pg_default |
| 16610 | snaga | public | supplier | pk_supplier           |    276 |   102748 |    102748 |   102748 |    322 |   205828 |        | pg_default |
| 16673 | snaga | public | supplier | i_s_nationkey         |      3 |       36 |    829440 |        0 |     16 |       60 |        | pg_default |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
