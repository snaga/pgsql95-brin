                                                     QUERY PLAN                                                     
--------------------------------------------------------------------------------------------------------------------
 Aggregate  (cost=7609786.81..7609786.82 rows=1 width=4)
   ->  Nested Loop  (cost=0.56..7609736.43 rows=20149 width=4)
         ->  Seq Scan on part  (cost=0.00..70626.40 rows=2076 width=4)
               Filter: ((p_brand = 'Brand#31'::bpchar) AND (p_container = 'JUMBO PACK'::bpchar))
         ->  Index Scan using i_l_partkey on lineitem  (cost=0.56..3631.46 rows=10 width=12)
               Index Cond: (l_partkey = part.p_partkey)
               Filter: (l_quantity < (SubPlan 1))
               SubPlan 1
                 ->  Aggregate  (cost=121.14..121.16 rows=1 width=4)
                       ->  Index Scan using i_l_partkey on lineitem lineitem_1  (cost=0.56..121.07 rows=29 width=4)
                             Index Cond: (l_partkey = part.p_partkey)
(11 rows)

+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |   BLKS  |  SCAN |   T_READ   |  T_INS   | T_UPD | T_DEL |  B_READ  |  B_HIT   | VACUUMED |       ANALYZED      | TABLESPACE |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
| 16593 | snaga | public | customer |   35284 |    77 |   93000000 |  1500000 |     0 |     0 |   714525 |  1710149 |          | 2015-07-16 05:49:04 | pg_default |
| 16599 | snaga | public | lineitem | 1065410 |    77 | 3659956872 | 59986052 |     0 |     0 | 61764124 | 45640431 |          | 2015-07-16 05:49:41 | pg_default |
| 16602 | snaga | public | nation   |       1 | 25742 |     642850 |       25 |     0 |     0 |        7 |    26095 |          | 2015-07-16 05:49:41 | pg_default |
| 16596 | snaga | public | orders   |  253278 |    54 |  645000000 | 15000000 |     0 |     0 | 12173344 | 19296370 |          | 2015-07-16 05:49:16 | pg_default |
| 16587 | snaga | public | part     |   40627 |    56 |   70349257 |  2000000 |     0 |     0 |   668668 |  1198896 |          | 2015-07-16 05:48:56 | pg_default |
| 16590 | snaga | public | partsupp |  170916 |    15 |  104000000 |  8000000 |     0 |     0 |  2218383 | 11070266 |          | 2015-07-16 05:49:04 | pg_default |
| 16605 | snaga | public | region   |       1 |    49 |        177 |        5 |     0 |     0 |        6 |      129 |          | 2015-07-16 05:49:41 | pg_default |
| 16584 | snaga | public | supplier |    2180 |    73 |    4500004 |   100000 |     0 |     0 |    37705 | 10569256 |          | 2015-07-16 05:48:55 | pg_default |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |         INDEX         |  BLKS  |   SCAN   |   T_READ  |  T_FTCH  | B_READ |  B_HIT   | STATUS | TABLESPACE |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
| 16619 | snaga | public | customer | pk_customer           |   4116 |      274 |       274 |      274 |     59 |      837 |        | pg_default |
| 16638 | snaga | public | customer | i_c_nationkey         |   4116 |        0 |         0 |        0 |     14 |       60 |        | pg_default |
| 16645 | snaga | public | lineitem | i_l_commitdate        | 164480 |        0 |         0 |        0 |     29 |      113 |        | pg_default |
| 16624 | snaga | public | lineitem | pk_lineitem           | 164480 |        0 |         0 |        0 |     31 |      111 |        | pg_default |
| 16631 | snaga | public | lineitem | i_l_shipdate          | 164480 |       36 | 155508898 |       12 | 366788 |    58391 |        | pg_default |
| 16632 | snaga | public | lineitem | i_l_suppkey_partkey   | 164480 |    41518 |    312044 |   312044 |   5515 |   161661 |        | pg_default |
| 16633 | snaga | public | lineitem | i_l_partkey           | 164480 |   179031 |   5434864 |  5434864 |  43371 |   687901 |        | pg_default |
| 16634 | snaga | public | lineitem | i_l_suppkey           | 164480 |      188 |       188 |      188 |     65 |      829 |        | pg_default |
| 16635 | snaga | public | lineitem | i_l_receiptdate       | 164480 |       11 | 100219757 |        0 | 249000 |    25009 |        | pg_default |
| 16636 | snaga | public | lineitem | i_l_orderkey          | 164480 |  4015697 |   5829530 |  5829530 | 638992 | 15440941 |        | pg_default |
| 16637 | snaga | public | lineitem | i_l_orderkey_quantity | 164480 |      270 |       270 |      270 |    168 |     1054 |        | pg_default |
| 16627 | snaga | public | nation   | pk_nation             |      2 |      384 |       384 |      384 |     21 |      432 |        | pg_default |
| 16644 | snaga | public | nation   | i_n_regionkey         |      2 |        0 |         0 |        0 |     15 |       54 |        | pg_default |
| 16639 | snaga | public | orders   | i_o_orderdate         |  41131 |       51 |  90066028 |       13 | 108805 |   137536 |        | pg_default |
| 16640 | snaga | public | orders   | i_o_custkey           |  41131 |      274 |       274 |      274 |     68 |      857 |        | pg_default |
| 16622 | snaga | public | orders   | pk_orders             |  41131 | 10366247 |  10366247 | 10366247 | 101866 | 31053544 |        | pg_default |
| 16612 | snaga | public | part     | pk_part               |   5487 |      218 |   8001390 |  8001390 |   5522 |    17053 |        | pg_default |
| 16642 | snaga | public | partsupp | i_ps_partkey          |  21937 |    36134 |  24192931 | 24192931 |  51732 |   122941 |        | pg_default |
| 16643 | snaga | public | partsupp | i_ps_suppkey          |  21937 |   119476 |   9544101 |  9544101 |  29221 |   355778 |        | pg_default |
| 16616 | snaga | public | partsupp | pk_partsupp           |  21937 |        0 |         0 |        0 |      6 |       31 |        | pg_default |
| 16629 | snaga | public | region   | pk_region             |      2 |       94 |        94 |       94 |     13 |      119 |        | pg_default |
| 16610 | snaga | public | supplier | pk_supplier           |    276 | 10468843 |  10468843 | 10468843 |   1005 | 20994534 |        | pg_default |
| 16641 | snaga | public | supplier | i_s_nationkey         |    276 |       12 |     47818 |        0 |     72 |      162 |        | pg_default |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
SET
Timing is on.
                                                                            QUERY PLAN                                                                             
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Aggregate  (cost=7609786.81..7609786.82 rows=1 width=4) (actual time=215925.524..215925.524 rows=1 loops=1)
   ->  Nested Loop  (cost=0.56..7609736.43 rows=20149 width=4) (actual time=180.060..215924.513 rows=5588 loops=1)
         ->  Seq Scan on part  (cost=0.00..70626.40 rows=2076 width=4) (actual time=0.695..386.566 rows=2064 loops=1)
               Filter: ((p_brand = 'Brand#31'::bpchar) AND (p_container = 'JUMBO PACK'::bpchar))
               Rows Removed by Filter: 1997936
         ->  Index Scan using i_l_partkey on lineitem  (cost=0.56..3631.46 rows=10 width=12) (actual time=104.063..104.426 rows=3 loops=2064)
               Index Cond: (l_partkey = part.p_partkey)
               Filter: (l_quantity < (SubPlan 1))
               Rows Removed by Filter: 27
               SubPlan 1
                 ->  Aggregate  (cost=121.14..121.16 rows=1 width=4) (actual time=3.029..3.029 rows=1 loops=62340)
                       ->  Index Scan using i_l_partkey on lineitem lineitem_1  (cost=0.56..121.07 rows=29 width=4) (actual time=0.002..3.024 rows=31 loops=62340)
                             Index Cond: (l_partkey = part.p_partkey)
 Planning time: 0.748 ms
 Execution time: 215925.591 ms
(15 rows)

Time: 215927.335 ms
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |   BLKS  |  SCAN |   T_READ   |  T_INS   | T_UPD | T_DEL |  B_READ  |  B_HIT   | VACUUMED |       ANALYZED      | TABLESPACE |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
| 16593 | snaga | public | customer |   35284 |    77 |   93000000 |  1500000 |     0 |     0 |   714525 |  1710149 |          | 2015-07-16 05:49:04 | pg_default |
| 16599 | snaga | public | lineitem | 1065410 |    77 | 3659956872 | 59986052 |     0 |     0 | 61799678 | 49622617 |          | 2015-07-16 05:49:41 | pg_default |
| 16602 | snaga | public | nation   |       1 | 25742 |     642850 |       25 |     0 |     0 |        7 |    26095 |          | 2015-07-16 05:49:41 | pg_default |
| 16596 | snaga | public | orders   |  253278 |    54 |  645000000 | 15000000 |     0 |     0 | 12173344 | 19296370 |          | 2015-07-16 05:49:16 | pg_default |
| 16587 | snaga | public | part     |   40627 |    60 |   74349257 |  2000000 |     0 |     0 |   668668 |  1280158 |          | 2015-07-16 05:48:56 | pg_default |
| 16590 | snaga | public | partsupp |  170916 |    15 |  104000000 |  8000000 |     0 |     0 |  2218383 | 11070266 |          | 2015-07-16 05:49:04 | pg_default |
| 16605 | snaga | public | region   |       1 |    49 |        177 |        5 |     0 |     0 |        6 |      129 |          | 2015-07-16 05:49:41 | pg_default |
| 16584 | snaga | public | supplier |    2180 |    73 |    4500004 |   100000 |     0 |     0 |    37705 | 10569256 |          | 2015-07-16 05:48:55 | pg_default |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |         INDEX         |  BLKS  |   SCAN   |   T_READ  |  T_FTCH  | B_READ |  B_HIT   | STATUS | TABLESPACE |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
| 16619 | snaga | public | customer | pk_customer           |   4116 |      274 |       274 |      274 |     59 |      837 |        | pg_default |
| 16638 | snaga | public | customer | i_c_nationkey         |   4116 |        0 |         0 |        0 |     14 |       60 |        | pg_default |
| 16645 | snaga | public | lineitem | i_l_commitdate        | 164480 |        0 |         0 |        0 |     29 |      117 |        | pg_default |
| 16624 | snaga | public | lineitem | pk_lineitem           | 164480 |        0 |         0 |        0 |     31 |      115 |        | pg_default |
| 16631 | snaga | public | lineitem | i_l_shipdate          | 164480 |       36 | 155508898 |       12 | 366788 |    58395 |        | pg_default |
| 16632 | snaga | public | lineitem | i_l_suppkey_partkey   | 164480 |    41518 |    312044 |   312044 |   5515 |   161665 |        | pg_default |
| 16633 | snaga | public | lineitem | i_l_partkey           | 164480 |   307847 |   9452604 |  9452604 |  45515 |  1212421 |        | pg_default |
| 16634 | snaga | public | lineitem | i_l_suppkey           | 164480 |      188 |       188 |      188 |     65 |      833 |        | pg_default |
| 16635 | snaga | public | lineitem | i_l_receiptdate       | 164480 |       11 | 100219757 |        0 | 249000 |    25013 |        | pg_default |
| 16636 | snaga | public | lineitem | i_l_orderkey          | 164480 |  4015697 |   5829530 |  5829530 | 638992 | 15440945 |        | pg_default |
| 16637 | snaga | public | lineitem | i_l_orderkey_quantity | 164480 |      270 |       270 |      270 |    168 |     1058 |        | pg_default |
| 16627 | snaga | public | nation   | pk_nation             |      2 |      384 |       384 |      384 |     21 |      432 |        | pg_default |
| 16644 | snaga | public | nation   | i_n_regionkey         |      2 |        0 |         0 |        0 |     15 |       54 |        | pg_default |
| 16639 | snaga | public | orders   | i_o_orderdate         |  41131 |       51 |  90066028 |       13 | 108805 |   137536 |        | pg_default |
| 16640 | snaga | public | orders   | i_o_custkey           |  41131 |      274 |       274 |      274 |     68 |      857 |        | pg_default |
| 16622 | snaga | public | orders   | pk_orders             |  41131 | 10366247 |  10366247 | 10366247 | 101866 | 31053544 |        | pg_default |
| 16612 | snaga | public | part     | pk_part               |   5487 |      226 |   8001398 |  8001398 |   5522 |    17081 |        | pg_default |
| 16642 | snaga | public | partsupp | i_ps_partkey          |  21937 |    36134 |  24192931 | 24192931 |  51732 |   122941 |        | pg_default |
| 16643 | snaga | public | partsupp | i_ps_suppkey          |  21937 |   119476 |   9544101 |  9544101 |  29221 |   355778 |        | pg_default |
| 16616 | snaga | public | partsupp | pk_partsupp           |  21937 |        0 |         0 |        0 |      6 |       31 |        | pg_default |
| 16629 | snaga | public | region   | pk_region             |      2 |       94 |        94 |       94 |     13 |      119 |        | pg_default |
| 16610 | snaga | public | supplier | pk_supplier           |    276 | 10468843 |  10468843 | 10468843 |   1005 | 20994534 |        | pg_default |
| 16641 | snaga | public | supplier | i_s_nationkey         |    276 |       12 |     47818 |        0 |     72 |      162 |        | pg_default |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
SET
Timing is on.
                                                                            QUERY PLAN                                                                             
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Aggregate  (cost=7609786.81..7609786.82 rows=1 width=4) (actual time=1289.189..1289.189 rows=1 loops=1)
   ->  Nested Loop  (cost=0.56..7609736.43 rows=20149 width=4) (actual time=0.856..1288.266 rows=5588 loops=1)
         ->  Seq Scan on part  (cost=0.00..70626.40 rows=2076 width=4) (actual time=0.696..332.107 rows=2064 loops=1)
               Filter: ((p_brand = 'Brand#31'::bpchar) AND (p_container = 'JUMBO PACK'::bpchar))
               Rows Removed by Filter: 1997936
         ->  Index Scan using i_l_partkey on lineitem  (cost=0.56..3631.46 rows=10 width=12) (actual time=0.196..0.462 rows=3 loops=2064)
               Index Cond: (l_partkey = part.p_partkey)
               Filter: (l_quantity < (SubPlan 1))
               Rows Removed by Filter: 27
               SubPlan 1
                 ->  Aggregate  (cost=121.14..121.16 rows=1 width=4) (actual time=0.014..0.014 rows=1 loops=62340)
                       ->  Index Scan using i_l_partkey on lineitem lineitem_1  (cost=0.56..121.07 rows=29 width=4) (actual time=0.002..0.011 rows=31 loops=62340)
                             Index Cond: (l_partkey = part.p_partkey)
 Planning time: 0.762 ms
 Execution time: 1289.260 ms
(15 rows)

Time: 1290.867 ms
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |   BLKS  |  SCAN |   T_READ   |  T_INS   | T_UPD | T_DEL |  B_READ  |  B_HIT   | VACUUMED |       ANALYZED      | TABLESPACE |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
| 16593 | snaga | public | customer |   35284 |    77 |   93000000 |  1500000 |     0 |     0 |   714525 |  1710149 |          | 2015-07-16 05:49:04 | pg_default |
| 16599 | snaga | public | lineitem | 1065410 |    79 | 3659956872 | 59986052 |     0 |     0 | 61799680 | 51631499 |          | 2015-07-16 05:49:41 | pg_default |
| 16602 | snaga | public | nation   |       1 | 25743 |     642850 |       25 |     0 |     0 |        7 |    26097 |          | 2015-07-16 05:49:41 | pg_default |
| 16596 | snaga | public | orders   |  253278 |    54 |  645000000 | 15000000 |     0 |     0 | 12173346 | 19296372 |          | 2015-07-16 05:49:16 | pg_default |
| 16587 | snaga | public | part     |   40627 |    61 |   76349257 |  2000000 |     0 |     0 |   668668 |  1320787 |          | 2015-07-16 05:48:56 | pg_default |
| 16590 | snaga | public | partsupp |  170916 |    15 |  104000000 |  8000000 |     0 |     0 |  2218383 | 11070266 |          | 2015-07-16 05:49:04 | pg_default |
| 16605 | snaga | public | region   |       1 |    49 |        177 |        5 |     0 |     0 |        6 |      129 |          | 2015-07-16 05:49:41 | pg_default |
| 16584 | snaga | public | supplier |    2180 |    73 |    4500004 |   100000 |     0 |     0 |    37705 | 10569260 |          | 2015-07-16 05:48:55 | pg_default |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |         INDEX         |  BLKS  |   SCAN   |   T_READ  |  T_FTCH  | B_READ |  B_HIT   | STATUS | TABLESPACE |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
| 16619 | snaga | public | customer | pk_customer           |   4116 |      274 |       274 |      274 |     59 |      837 |        | pg_default |
| 16638 | snaga | public | customer | i_c_nationkey         |   4116 |        0 |         0 |        0 |     14 |       60 |        | pg_default |
| 16645 | snaga | public | lineitem | i_l_commitdate        | 164480 |        0 |         0 |        0 |     29 |      119 |        | pg_default |
| 16624 | snaga | public | lineitem | pk_lineitem           | 164480 |        0 |         0 |        0 |     31 |      117 |        | pg_default |
| 16631 | snaga | public | lineitem | i_l_shipdate          | 164480 |       36 | 155508898 |       12 | 366788 |    58397 |        | pg_default |
| 16632 | snaga | public | lineitem | i_l_suppkey_partkey   | 164480 |    41518 |    312044 |   312044 |   5515 |   161667 |        | pg_default |
| 16633 | snaga | public | lineitem | i_l_partkey           | 164480 |   372253 |  11461472 | 11461472 |  45515 |  1475745 |        | pg_default |
| 16634 | snaga | public | lineitem | i_l_suppkey           | 164480 |      192 |       192 |      192 |     72 |      844 |        | pg_default |
| 16635 | snaga | public | lineitem | i_l_receiptdate       | 164480 |       11 | 100219757 |        0 | 249000 |    25015 |        | pg_default |
| 16636 | snaga | public | lineitem | i_l_orderkey          | 164480 |  4015697 |   5829530 |  5829530 | 638992 | 15440947 |        | pg_default |
| 16637 | snaga | public | lineitem | i_l_orderkey_quantity | 164480 |      282 |       282 |      282 |    175 |     1101 |        | pg_default |
| 16627 | snaga | public | nation   | pk_nation             |      2 |      386 |       386 |      386 |     21 |      435 |        | pg_default |
| 16644 | snaga | public | nation   | i_n_regionkey         |      2 |        0 |         0 |        0 |     15 |       55 |        | pg_default |
| 16639 | snaga | public | orders   | i_o_orderdate         |  41131 |       51 |  90066028 |       13 | 108806 |   137536 |        | pg_default |
| 16640 | snaga | public | orders   | i_o_custkey           |  41131 |      274 |       274 |      274 |     69 |      857 |        | pg_default |
| 16622 | snaga | public | orders   | pk_orders             |  41131 | 10366251 |  10366251 | 10366251 | 101872 | 31053551 |        | pg_default |
| 16612 | snaga | public | part     | pk_part               |   5487 |      228 |   8001400 |  8001400 |   5522 |    17088 |        | pg_default |
| 16642 | snaga | public | partsupp | i_ps_partkey          |  21937 |    36134 |  24192931 | 24192931 |  51732 |   122941 |        | pg_default |
| 16643 | snaga | public | partsupp | i_ps_suppkey          |  21937 |   119476 |   9544101 |  9544101 |  29221 |   355778 |        | pg_default |
| 16616 | snaga | public | partsupp | pk_partsupp           |  21937 |        0 |         0 |        0 |      6 |       31 |        | pg_default |
| 16629 | snaga | public | region   | pk_region             |      2 |       94 |        94 |       94 |     13 |      119 |        | pg_default |
| 16610 | snaga | public | supplier | pk_supplier           |    276 | 10468847 |  10468847 | 10468847 |   1007 | 20994541 |        | pg_default |
| 16641 | snaga | public | supplier | i_s_nationkey         |    276 |       12 |     47818 |        0 |     72 |      163 |        | pg_default |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
SET
Timing is on.
Time: 600309.552 ms
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |   BLKS  |  SCAN |   T_READ   |  T_INS   | T_UPD | T_DEL |  B_READ  |  B_HIT   | VACUUMED |       ANALYZED      | TABLESPACE |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
| 16593 | snaga | public | customer |   35284 |    77 |   93000000 |  1500000 |     0 |     0 |   714525 |  1710149 |          | 2015-07-16 05:49:04 | pg_default |
| 16599 | snaga | public | lineitem | 1065410 |    83 | 3899901080 | 59986052 |     0 |     0 | 64115559 | 54977309 |          | 2015-07-16 05:49:41 | pg_default |
| 16602 | snaga | public | nation   |       1 | 25745 |     642900 |       25 |     0 |     0 |        7 |    26103 |          | 2015-07-16 05:49:41 | pg_default |
| 16596 | snaga | public | orders   |  253278 |    54 |  645000000 | 15000000 |     0 |     0 | 12488046 | 21831394 |          | 2015-07-16 05:49:16 | pg_default |
| 16587 | snaga | public | part     |   40627 |    61 |   76349257 |  2000000 |     0 |     0 |   668668 |  1320787 |          | 2015-07-16 05:48:56 | pg_default |
| 16590 | snaga | public | partsupp |  170916 |    15 |  104000000 |  8000000 |     0 |     0 |  2218383 | 11070266 |          | 2015-07-16 05:49:04 | pg_default |
| 16605 | snaga | public | region   |       1 |    49 |        177 |        5 |     0 |     0 |        6 |      129 |          | 2015-07-16 05:49:41 | pg_default |
| 16584 | snaga | public | supplier |    2180 |    73 |    4500004 |   100000 |     0 |     0 |    37705 | 10573008 |          | 2015-07-16 05:48:55 | pg_default |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |         INDEX         |  BLKS  |   SCAN   |   T_READ  |  T_FTCH  | B_READ |  B_HIT   | STATUS | TABLESPACE |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
| 16619 | snaga | public | customer | pk_customer           |   4116 |      274 |       274 |      274 |     59 |      837 |        | pg_default |
| 16638 | snaga | public | customer | i_c_nationkey         |   4116 |        0 |         0 |        0 |     14 |       60 |        | pg_default |
| 16645 | snaga | public | lineitem | i_l_commitdate        | 164480 |        0 |         0 |        0 |     29 |      121 |        | pg_default |
| 16624 | snaga | public | lineitem | pk_lineitem           | 164480 |        0 |         0 |        0 |     31 |      119 |        | pg_default |
| 16631 | snaga | public | lineitem | i_l_shipdate          | 164480 |       36 | 155508898 |       12 | 366788 |    58399 |        | pg_default |
| 16632 | snaga | public | lineitem | i_l_suppkey_partkey   | 164480 |    41518 |    312044 |   312044 |   5515 |   161669 |        | pg_default |
| 16633 | snaga | public | lineitem | i_l_partkey           | 164480 |   372253 |  11461472 | 11461472 |  45515 |  1475747 |        | pg_default |
| 16634 | snaga | public | lineitem | i_l_suppkey           | 164480 |      200 |       200 |      200 |     72 |      878 |        | pg_default |
| 16635 | snaga | public | lineitem | i_l_receiptdate       | 164480 |       11 | 100219757 |        0 | 249000 |    25017 |        | pg_default |
| 16636 | snaga | public | lineitem | i_l_orderkey          | 164480 |  5391198 |   8352361 |  8352361 | 851249 | 20737893 |        | pg_default |
| 16637 | snaga | public | lineitem | i_l_orderkey_quantity | 164480 |      306 |       306 |      306 |    175 |     1199 |        | pg_default |
| 16627 | snaga | public | nation   | pk_nation             |      2 |      390 |       390 |      390 |     21 |      441 |        | pg_default |
| 16644 | snaga | public | nation   | i_n_regionkey         |      2 |        0 |         0 |        0 |     15 |       57 |        | pg_default |
| 16639 | snaga | public | orders   | i_o_orderdate         |  41131 |       51 |  90066028 |       13 | 108806 |   137538 |        | pg_default |
| 16640 | snaga | public | orders   | i_o_custkey           |  41131 |      274 |       274 |      274 |     69 |      859 |        | pg_default |
| 16622 | snaga | public | orders   | pk_orders             |  41131 | 13215973 |  13215973 | 13215973 | 142997 | 39577211 |        | pg_default |
| 16612 | snaga | public | part     | pk_part               |   5487 |      228 |   8001400 |  8001400 |   5522 |    17088 |        | pg_default |
| 16642 | snaga | public | partsupp | i_ps_partkey          |  21937 |    36134 |  24192931 | 24192931 |  51732 |   122941 |        | pg_default |
| 16643 | snaga | public | partsupp | i_ps_suppkey          |  21937 |   119476 |   9544101 |  9544101 |  29221 |   355778 |        | pg_default |
| 16616 | snaga | public | partsupp | pk_partsupp           |  21937 |        0 |         0 |        0 |      6 |       31 |        | pg_default |
| 16629 | snaga | public | region   | pk_region             |      2 |       94 |        94 |       94 |     13 |      119 |        | pg_default |
| 16610 | snaga | public | supplier | pk_supplier           |    276 | 10468855 |  10468855 | 10468855 |   1007 | 20994559 |        | pg_default |
| 16641 | snaga | public | supplier | i_s_nationkey         |    276 |       14 |     55684 |        0 |     84 |      179 |        | pg_default |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
SET
Timing is on.
                                                                                     QUERY PLAN                                                                                      
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Limit  (cost=4799039.06..4799039.06 rows=1 width=26) (actual time=511027.758..511027.775 rows=100 loops=1)
   ->  Sort  (cost=4799039.06..4799039.06 rows=1 width=26) (actual time=511027.755..511027.765 rows=100 loops=1)
         Sort Key: (count(*)) DESC, supplier.s_name
         Sort Method: top-N heapsort  Memory: 32kB
         ->  HashAggregate  (cost=4799039.04..4799039.05 rows=1 width=26) (actual time=510950.017..510951.229 rows=3933 loops=1)
               Group Key: supplier.s_name
               ->  Nested Loop Anti Join  (cost=2651862.49..4799039.03 rows=1 width=26) (actual time=67596.268..510881.749 rows=39098 loops=1)
                     ->  Nested Loop  (cost=2651861.92..4799004.68 rows=1 width=34) (actual time=67221.932..315519.859 rows=694405 loops=1)
                           ->  Hash Semi Join  (cost=2651861.49..4798997.41 rows=1 width=38) (actual time=67176.899..204308.710 rows=1438672 loops=1)
                                 Hash Cond: (l1.l_orderkey = l2.l_orderkey)
                                 Join Filter: (l2.l_suppkey <> l1.l_suppkey)
                                 Rows Removed by Join Filter: 373428
                                 ->  Hash Join  (cost=2442.61..1900660.02 rows=799815 width=34) (actual time=216.273..123359.740 rows=1492217 loops=1)
                                       Hash Cond: (l1.l_suppkey = supplier.s_suppkey)
                                       ->  Seq Scan on lineitem l1  (cost=0.00..1815236.60 rows=19995376 width=8) (actual time=9.417..118233.455 rows=37929348 loops=1)
                                             Filter: (l_receiptdate > l_commitdate)
                                             Rows Removed by Filter: 22056704
                                       ->  Hash  (cost=2392.61..2392.61 rows=4000 width=30) (actual time=205.805..205.805 rows=3933 loops=1)
                                             Buckets: 4096  Batches: 1  Memory Usage: 278kB
                                             ->  Nested Loop  (cost=79.29..2392.61 rows=4000 width=30) (actual time=17.097..204.704 rows=3933 loops=1)
                                                   ->  Seq Scan on nation  (cost=0.00..1.31 rows=1 width=4) (actual time=0.006..0.010 rows=1 loops=1)
                                                         Filter: (n_name = 'JORDAN'::bpchar)
                                                         Rows Removed by Filter: 24
                                                   ->  Bitmap Heap Scan on supplier  (cost=79.29..2351.30 rows=4000 width=34) (actual time=17.089..203.930 rows=3933 loops=1)
                                                         Recheck Cond: (s_nationkey = nation.n_nationkey)
                                                         Heap Blocks: exact=1870
                                                         ->  Bitmap Index Scan on i_s_nationkey  (cost=0.00..78.29 rows=4000 width=0) (actual time=16.897..16.897 rows=3933 loops=1)
                                                               Index Cond: (s_nationkey = nation.n_nationkey)
                                 ->  Hash  (cost=1665271.28..1665271.28 rows=59986128 width=8) (actual time=66814.353..66814.353 rows=59986052 loops=1)
                                       Buckets: 67108864  Batches: 2  Memory Usage: 1696404kB
                                       ->  Seq Scan on lineitem l2  (cost=0.00..1665271.28 rows=59986128 width=8) (actual time=0.023..56698.433 rows=59986052 loops=1)
                           ->  Index Scan using pk_orders on orders  (cost=0.43..7.25 rows=1 width=4) (actual time=0.077..0.077 rows=0 loops=1438672)
                                 Index Cond: (o_orderkey = l1.l_orderkey)
                                 Filter: (o_orderstatus = 'F'::bpchar)
                                 Rows Removed by Filter: 1
                     ->  Index Scan using i_l_orderkey on lineitem l3  (cost=0.56..17.24 rows=44 width=8) (actual time=0.281..0.281 rows=1 loops=694405)
                           Index Cond: (l_orderkey = l1.l_orderkey)
                           Filter: ((l_receiptdate > l_commitdate) AND (l_suppkey <> l1.l_suppkey))
                           Rows Removed by Filter: 1
 Planning time: 287.777 ms
 Execution time: 511048.181 ms
(41 rows)

Time: 511669.929 ms
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |   BLKS  |  SCAN |   T_READ   |  T_INS   | T_UPD | T_DEL |  B_READ  |  B_HIT   | VACUUMED |       ANALYZED      | TABLESPACE |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
| 16593 | snaga | public | customer |   35284 |    77 |   93000000 |  1500000 |     0 |     0 |   714525 |  1710149 |          | 2015-07-16 05:49:04 | pg_default |
| 16599 | snaga | public | lineitem | 1065410 |    87 | 4139845288 | 59986052 |     0 |     0 | 66306890 | 58461218 |          | 2015-07-16 05:49:41 | pg_default |
| 16602 | snaga | public | nation   |       1 | 25747 |     642950 |       25 |     0 |     0 |        8 |    26108 |          | 2015-07-16 05:49:41 | pg_default |
| 16596 | snaga | public | orders   |  253278 |    54 |  645000000 | 15000000 |     0 |     0 | 12688865 | 24507927 |          | 2015-07-16 05:49:16 | pg_default |
| 16587 | snaga | public | part     |   40627 |    61 |   76349257 |  2000000 |     0 |     0 |   668668 |  1320787 |          | 2015-07-16 05:48:56 | pg_default |
| 16590 | snaga | public | partsupp |  170916 |    15 |  104000000 |  8000000 |     0 |     0 |  2218383 | 11070266 |          | 2015-07-16 05:49:04 | pg_default |
| 16605 | snaga | public | region   |       1 |    49 |        177 |        5 |     0 |     0 |        6 |      129 |          | 2015-07-16 05:49:41 | pg_default |
| 16584 | snaga | public | supplier |    2180 |    73 |    4500004 |   100000 |     0 |     0 |    39575 | 10574886 |          | 2015-07-16 05:48:55 | pg_default |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |         INDEX         |  BLKS  |   SCAN   |   T_READ  |  T_FTCH  | B_READ |  B_HIT   | STATUS | TABLESPACE |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
| 16619 | snaga | public | customer | pk_customer           |   4116 |      274 |       274 |      274 |     59 |      837 |        | pg_default |
| 16638 | snaga | public | customer | i_c_nationkey         |   4116 |        0 |         0 |        0 |     14 |       60 |        | pg_default |
| 16645 | snaga | public | lineitem | i_l_commitdate        | 164480 |        0 |         0 |        0 |     30 |      122 |        | pg_default |
| 16624 | snaga | public | lineitem | pk_lineitem           | 164480 |        0 |         0 |        0 |     32 |      120 |        | pg_default |
| 16631 | snaga | public | lineitem | i_l_shipdate          | 164480 |       36 | 155508898 |       12 | 366789 |    58400 |        | pg_default |
| 16632 | snaga | public | lineitem | i_l_suppkey_partkey   | 164480 |    41518 |    312044 |   312044 |   5516 |   161670 |        | pg_default |
| 16633 | snaga | public | lineitem | i_l_partkey           | 164480 |   372253 |  11461472 | 11461472 |  45516 |  1475748 |        | pg_default |
| 16634 | snaga | public | lineitem | i_l_suppkey           | 164480 |      208 |       208 |      208 |     80 |      904 |        | pg_default |
| 16635 | snaga | public | lineitem | i_l_receiptdate       | 164480 |       11 | 100219757 |        0 | 249001 |    25018 |        | pg_default |
| 16636 | snaga | public | lineitem | i_l_orderkey          | 164480 |  6780008 |  10899715 | 10899715 | 999332 | 26152280 |        | pg_default |
| 16637 | snaga | public | lineitem | i_l_orderkey_quantity | 164480 |      330 |       330 |      330 |    183 |     1289 |        | pg_default |
| 16627 | snaga | public | nation   | pk_nation             |      2 |      394 |       394 |      394 |     23 |      445 |        | pg_default |
| 16644 | snaga | public | nation   | i_n_regionkey         |      2 |        0 |         0 |        0 |     16 |       58 |        | pg_default |
| 16639 | snaga | public | orders   | i_o_orderdate         |  41131 |       51 |  90066028 |       13 | 108807 |   137539 |        | pg_default |
| 16640 | snaga | public | orders   | i_o_custkey           |  41131 |      274 |       274 |      274 |     70 |      860 |        | pg_default |
| 16622 | snaga | public | orders   | pk_orders             |  41131 | 16093325 |  16093325 | 16093325 | 166218 | 48201804 |        | pg_default |
| 16612 | snaga | public | part     | pk_part               |   5487 |      228 |   8001400 |  8001400 |   5522 |    17088 |        | pg_default |
| 16642 | snaga | public | partsupp | i_ps_partkey          |  21937 |    36134 |  24192931 | 24192931 |  51732 |   122941 |        | pg_default |
| 16643 | snaga | public | partsupp | i_ps_suppkey          |  21937 |   119476 |   9544101 |  9544101 |  29221 |   355778 |        | pg_default |
| 16616 | snaga | public | partsupp | pk_partsupp           |  21937 |        0 |         0 |        0 |      6 |       31 |        | pg_default |
| 16629 | snaga | public | region   | pk_region             |      2 |       94 |        94 |       94 |     13 |      119 |        | pg_default |
| 16610 | snaga | public | supplier | pk_supplier           |    276 | 10468863 |  10468863 | 10468863 |   1011 | 20994573 |        | pg_default |
| 16641 | snaga | public | supplier | i_s_nationkey         |    276 |       16 |     63550 |        0 |     98 |      193 |        | pg_default |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+--------+----------+--------+------------+
