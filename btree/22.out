                                                                 QUERY PLAN                                                                 
--------------------------------------------------------------------------------------------------------------------------------------------
 GroupAggregate  (cost=226522.57..226720.94 rows=7935 width=20)
   Group Key: (substr((customer.c_phone)::text, 1, 2))
   InitPlan 1 (returns $0)
     ->  Aggregate  (cost=74776.74..74776.75 rows=1 width=4)
           ->  Seq Scan on customer customer_1  (cost=0.00..74657.21 rows=47810 width=4)
                 Filter: ((c_acctbal > '0'::double precision) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
   ->  Sort  (cost=151745.81..151765.65 rows=7935 width=20)
         Sort Key: (substr((customer.c_phone)::text, 1, 2))
         ->  Nested Loop Anti Join  (cost=0.43..151231.86 rows=7935 width=20)
               ->  Seq Scan on customer  (cost=0.00..74657.21 rows=17499 width=24)
                     Filter: ((c_acctbal > $0) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
               ->  Index Only Scan using i_o_custkey on orders  (cost=0.43..48.44 rows=18 width=4)
                     Index Cond: (o_custkey = customer.c_custkey)
(13 rows)

+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |   BLKS  |  SCAN |   T_READ   |  T_INS   | T_UPD | T_DEL |  B_READ  |  B_HIT   | VACUUMED |       ANALYZED      | TABLESPACE |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
| 16593 | snaga | public | customer |   35284 |    91 |  109500000 |  1500000 |     0 |     0 |   840255 |  1972575 |          | 2015-07-16 05:49:04 | pg_default |
| 16599 | snaga | public | lineitem | 1065410 |   111 | 5339566328 | 59986052 |     0 |     0 | 85223458 | 65949076 |          | 2015-07-16 05:49:41 | pg_default |
| 16602 | snaga | public | nation   |       1 | 25758 |     643175 |       25 |     0 |     0 |       13 |    26134 |          | 2015-07-16 05:49:41 | pg_default |
| 16596 | snaga | public | orders   |  253278 |    60 |  720000000 | 15000000 |     0 |     0 | 13990096 | 31878399 |          | 2015-07-16 05:49:16 | pg_default |
| 16587 | snaga | public | part     |   40627 |    70 |   86285507 |  2000000 |     0 |     0 |   716429 |  1474888 |          | 2015-07-16 05:48:56 | pg_default |
| 16590 | snaga | public | partsupp |  170916 |    15 |  104000000 |  8000000 |     0 |     0 |  2235934 | 11096849 |          | 2015-07-16 05:49:04 | pg_default |
| 16605 | snaga | public | region   |       1 |    49 |        177 |        5 |     0 |     0 |        6 |      129 |          | 2015-07-16 05:49:41 | pg_default |
| 16584 | snaga | public | supplier |    2180 |    73 |    4500004 |   100000 |     0 |     0 |    49185 | 10581946 |          | 2015-07-16 05:48:55 | pg_default |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+---------+----------+--------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |         INDEX         |  BLKS  |   SCAN   |   T_READ  |  T_FTCH  |  B_READ |  B_HIT   | STATUS | TABLESPACE |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+---------+----------+--------+------------+
| 16619 | snaga | public | customer | pk_customer           |   4116 |      306 |       306 |      306 |      67 |      935 |        | pg_default |
| 16638 | snaga | public | customer | i_c_nationkey         |   4116 |        0 |         0 |        0 |      17 |       67 |        | pg_default |
| 16645 | snaga | public | lineitem | i_l_commitdate        | 164480 |        0 |         0 |        0 |      36 |      137 |        | pg_default |
| 16624 | snaga | public | lineitem | pk_lineitem           | 164480 |        0 |         0 |        0 |      38 |      135 |        | pg_default |
| 16631 | snaga | public | lineitem | i_l_shipdate          | 164480 |       36 | 155508898 |       12 |  366795 |    58415 |        | pg_default |
| 16632 | snaga | public | lineitem | i_l_suppkey_partkey   | 164480 |   203959 |   1531079 |  1531079 |   22449 |   798216 |        | pg_default |
| 16633 | snaga | public | lineitem | i_l_partkey           | 164480 |   386449 |  11887539 | 11887539 |   51325 |  1527959 |        | pg_default |
| 16634 | snaga | public | lineitem | i_l_suppkey           | 164480 |      232 |       232 |      232 |     121 |      980 |        | pg_default |
| 16635 | snaga | public | lineitem | i_l_receiptdate       | 164480 |       11 | 100219757 |        0 |  249007 |    25033 |        | pg_default |
| 16636 | snaga | public | lineitem | i_l_orderkey          | 164480 | 10170613 |  17118735 | 17118735 | 1836044 | 38895682 |        | pg_default |
| 16637 | snaga | public | lineitem | i_l_orderkey_quantity | 164480 |      426 |       426 |      426 |     224 |     1653 |        | pg_default |
| 16627 | snaga | public | nation   | pk_nation             |      2 |      416 |       416 |      416 |      33 |      468 |        | pg_default |
| 16644 | snaga | public | nation   | i_n_regionkey         |      2 |        0 |         0 |        0 |      21 |       64 |        | pg_default |
| 16639 | snaga | public | orders   | i_o_orderdate         |  41131 |       51 |  90066028 |       13 |  108814 |   137548 |        | pg_default |
| 16640 | snaga | public | orders   | i_o_custkey           |  41131 |   572109 |    381417 |   381417 |   40888 |  1677090 |        | pg_default |
| 16622 | snaga | public | orders   | pk_orders             |  41131 | 23117495 |  23117495 | 23117495 |  223539 | 69255494 |        | pg_default |
| 16612 | snaga | public | part     | pk_part               |   5487 |      246 |   8001418 |  8001418 |    5528 |    17145 |        | pg_default |
| 16642 | snaga | public | partsupp | i_ps_partkey          |  21937 |    76756 |  24355382 | 24355382 |   63001 |   234164 |        | pg_default |
| 16643 | snaga | public | partsupp | i_ps_suppkey          |  21937 |   119476 |   9544101 |  9544101 |   29222 |   355782 |        | pg_default |
| 16616 | snaga | public | partsupp | pk_partsupp           |  21937 |        0 |         0 |        0 |       7 |       35 |        | pg_default |
| 16629 | snaga | public | region   | pk_region             |      2 |       94 |        94 |       94 |      13 |      119 |        | pg_default |
| 16610 | snaga | public | supplier | pk_supplier           |    276 | 10468887 |  10468887 | 10468887 |    1031 | 20994612 |        | pg_default |
| 16641 | snaga | public | supplier | i_s_nationkey         |    276 |       25 |     98951 |        0 |     179 |      236 |        | pg_default |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+---------+----------+--------+------------+
SET
Timing is on.
                                                                    QUERY PLAN                                                                    
--------------------------------------------------------------------------------------------------------------------------------------------------
 GroupAggregate  (cost=226522.57..226720.94 rows=7935 width=20) (actual time=33492.939..33502.874 rows=7 loops=1)
   Group Key: (substr((customer.c_phone)::text, 1, 2))
   InitPlan 1 (returns $0)
     ->  Aggregate  (cost=74776.74..74776.75 rows=1 width=4) (actual time=1573.713..1573.713 rows=1 loops=1)
           ->  Seq Scan on customer customer_1  (cost=0.00..74657.21 rows=47810 width=4) (actual time=0.010..1542.934 rows=381209 loops=1)
                 Filter: ((c_acctbal > '0'::double precision) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
                 Rows Removed by Filter: 1118791
   ->  Sort  (cost=151745.81..151765.65 rows=7935 width=20) (actual time=33491.217..33494.280 rows=63564 loops=1)
         Sort Key: (substr((customer.c_phone)::text, 1, 2))
         Sort Method: quicksort  Memory: 4516kB
         ->  Nested Loop Anti Join  (cost=0.43..151231.86 rows=7935 width=20) (actual time=1573.749..33467.805 rows=63564 loops=1)
               ->  Seq Scan on customer  (cost=0.00..74657.21 rows=17499 width=24) (actual time=1573.729..2091.136 rows=190601 loops=1)
                     Filter: ((c_acctbal > $0) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
                     Rows Removed by Filter: 1309399
               ->  Index Only Scan using i_o_custkey on orders  (cost=0.43..48.44 rows=18 width=4) (actual time=0.164..0.164 rows=1 loops=190601)
                     Index Cond: (o_custkey = customer.c_custkey)
                     Heap Fetches: 127037
 Planning time: 0.603 ms
 Execution time: 33503.264 ms
(19 rows)

Time: 33505.013 ms
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |   BLKS  |  SCAN |   T_READ   |  T_INS   | T_UPD | T_DEL |  B_READ  |  B_HIT   | VACUUMED |       ANALYZED      | TABLESPACE |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
| 16593 | snaga | public | customer |   35284 |    95 |  112500000 |  1500000 |     0 |     0 |   875539 |  2007863 |          | 2015-07-16 05:49:04 | pg_default |
| 16599 | snaga | public | lineitem | 1065410 |   111 | 5339566328 | 59986052 |     0 |     0 | 85223458 | 65949076 |          | 2015-07-16 05:49:41 | pg_default |
| 16602 | snaga | public | nation   |       1 | 25758 |     643175 |       25 |     0 |     0 |       13 |    26134 |          | 2015-07-16 05:49:41 | pg_default |
| 16596 | snaga | public | orders   |  253278 |    60 |  720000000 | 15000000 |     0 |     0 | 13993634 | 32001902 |          | 2015-07-16 05:49:16 | pg_default |
| 16587 | snaga | public | part     |   40627 |    70 |   86285507 |  2000000 |     0 |     0 |   716429 |  1474888 |          | 2015-07-16 05:48:56 | pg_default |
| 16590 | snaga | public | partsupp |  170916 |    15 |  104000000 |  8000000 |     0 |     0 |  2235934 | 11096849 |          | 2015-07-16 05:49:04 | pg_default |
| 16605 | snaga | public | region   |       1 |    49 |        177 |        5 |     0 |     0 |        6 |      129 |          | 2015-07-16 05:49:41 | pg_default |
| 16584 | snaga | public | supplier |    2180 |    73 |    4500004 |   100000 |     0 |     0 |    49185 | 10581946 |          | 2015-07-16 05:48:55 | pg_default |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+---------+----------+--------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |         INDEX         |  BLKS  |   SCAN   |   T_READ  |  T_FTCH  |  B_READ |  B_HIT   | STATUS | TABLESPACE |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+---------+----------+--------+------------+
| 16619 | snaga | public | customer | pk_customer           |   4116 |      310 |       310 |      310 |      73 |      943 |        | pg_default |
| 16638 | snaga | public | customer | i_c_nationkey         |   4116 |        0 |         0 |        0 |      18 |       68 |        | pg_default |
| 16645 | snaga | public | lineitem | i_l_commitdate        | 164480 |        0 |         0 |        0 |      36 |      137 |        | pg_default |
| 16624 | snaga | public | lineitem | pk_lineitem           | 164480 |        0 |         0 |        0 |      38 |      135 |        | pg_default |
| 16631 | snaga | public | lineitem | i_l_shipdate          | 164480 |       36 | 155508898 |       12 |  366795 |    58415 |        | pg_default |
| 16632 | snaga | public | lineitem | i_l_suppkey_partkey   | 164480 |   203959 |   1531079 |  1531079 |   22449 |   798216 |        | pg_default |
| 16633 | snaga | public | lineitem | i_l_partkey           | 164480 |   386449 |  11887539 | 11887539 |   51325 |  1527959 |        | pg_default |
| 16634 | snaga | public | lineitem | i_l_suppkey           | 164480 |      232 |       232 |      232 |     121 |      980 |        | pg_default |
| 16635 | snaga | public | lineitem | i_l_receiptdate       | 164480 |       11 | 100219757 |        0 |  249007 |    25033 |        | pg_default |
| 16636 | snaga | public | lineitem | i_l_orderkey          | 164480 | 10170613 |  17118735 | 17118735 | 1836044 | 38895682 |        | pg_default |
| 16637 | snaga | public | lineitem | i_l_orderkey_quantity | 164480 |      426 |       426 |      426 |     224 |     1653 |        | pg_default |
| 16627 | snaga | public | nation   | pk_nation             |      2 |      416 |       416 |      416 |      33 |      468 |        | pg_default |
| 16644 | snaga | public | nation   | i_n_regionkey         |      2 |        0 |         0 |        0 |      21 |       64 |        | pg_default |
| 16639 | snaga | public | orders   | i_o_orderdate         |  41131 |       51 |  90066028 |       13 |  108815 |   137549 |        | pg_default |
| 16640 | snaga | public | orders   | i_o_custkey           |  41131 |   762714 |    508458 |   508458 |   81700 |  2208604 |        | pg_default |
| 16622 | snaga | public | orders   | pk_orders             |  41131 | 23117495 |  23117495 | 23117495 |  223540 | 69255495 |        | pg_default |
| 16612 | snaga | public | part     | pk_part               |   5487 |      246 |   8001418 |  8001418 |    5528 |    17145 |        | pg_default |
| 16642 | snaga | public | partsupp | i_ps_partkey          |  21937 |    76756 |  24355382 | 24355382 |   63001 |   234164 |        | pg_default |
| 16643 | snaga | public | partsupp | i_ps_suppkey          |  21937 |   119476 |   9544101 |  9544101 |   29222 |   355782 |        | pg_default |
| 16616 | snaga | public | partsupp | pk_partsupp           |  21937 |        0 |         0 |        0 |       7 |       35 |        | pg_default |
| 16629 | snaga | public | region   | pk_region             |      2 |       94 |        94 |       94 |      13 |      119 |        | pg_default |
| 16610 | snaga | public | supplier | pk_supplier           |    276 | 10468887 |  10468887 | 10468887 |    1031 | 20994612 |        | pg_default |
| 16641 | snaga | public | supplier | i_s_nationkey         |    276 |       25 |     98951 |        0 |     179 |      236 |        | pg_default |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+---------+----------+--------+------------+
SET
Timing is on.
                                                                    QUERY PLAN                                                                    
--------------------------------------------------------------------------------------------------------------------------------------------------
 GroupAggregate  (cost=226522.57..226720.94 rows=7935 width=20) (actual time=1917.448..1927.243 rows=7 loops=1)
   Group Key: (substr((customer.c_phone)::text, 1, 2))
   InitPlan 1 (returns $0)
     ->  Aggregate  (cost=74776.74..74776.75 rows=1 width=4) (actual time=861.238..861.238 rows=1 loops=1)
           ->  Seq Scan on customer customer_1  (cost=0.00..74657.21 rows=47810 width=4) (actual time=0.009..832.561 rows=381209 loops=1)
                 Filter: ((c_acctbal > '0'::double precision) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
                 Rows Removed by Filter: 1118791
   ->  Sort  (cost=151745.81..151765.65 rows=7935 width=20) (actual time=1915.783..1918.701 rows=63564 loops=1)
         Sort Key: (substr((customer.c_phone)::text, 1, 2))
         Sort Method: quicksort  Memory: 4516kB
         ->  Nested Loop Anti Join  (cost=0.43..151231.86 rows=7935 width=20) (actual time=861.274..1897.491 rows=63564 loops=1)
               ->  Seq Scan on customer  (cost=0.00..74657.21 rows=17499 width=24) (actual time=861.256..1354.941 rows=190601 loops=1)
                     Filter: ((c_acctbal > $0) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
                     Rows Removed by Filter: 1309399
               ->  Index Only Scan using i_o_custkey on orders  (cost=0.43..48.44 rows=18 width=4) (actual time=0.003..0.003 rows=1 loops=190601)
                     Index Cond: (o_custkey = customer.c_custkey)
                     Heap Fetches: 127037
 Planning time: 0.597 ms
 Execution time: 1927.591 ms
(19 rows)

Time: 1929.329 ms
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |   BLKS  |  SCAN |   T_READ   |  T_INS   | T_UPD | T_DEL |  B_READ  |  B_HIT   | VACUUMED |       ANALYZED      | TABLESPACE |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
| 16593 | snaga | public | customer |   35284 |    97 |  115500000 |  1500000 |     0 |     0 |   875539 |  2078433 |          | 2015-07-16 05:49:04 | pg_default |
| 16599 | snaga | public | lineitem | 1065410 |   111 | 5339566328 | 59986052 |     0 |     0 | 85223458 | 65949076 |          | 2015-07-16 05:49:41 | pg_default |
| 16602 | snaga | public | nation   |       1 | 25758 |     643175 |       25 |     0 |     0 |       13 |    26134 |          | 2015-07-16 05:49:41 | pg_default |
| 16596 | snaga | public | orders   |  253278 |    60 |  720000000 | 15000000 |     0 |     0 | 13993634 | 32128941 |          | 2015-07-16 05:49:16 | pg_default |
| 16587 | snaga | public | part     |   40627 |    70 |   86285507 |  2000000 |     0 |     0 |   716429 |  1474888 |          | 2015-07-16 05:48:56 | pg_default |
| 16590 | snaga | public | partsupp |  170916 |    15 |  104000000 |  8000000 |     0 |     0 |  2235934 | 11096849 |          | 2015-07-16 05:49:04 | pg_default |
| 16605 | snaga | public | region   |       1 |    49 |        177 |        5 |     0 |     0 |        6 |      129 |          | 2015-07-16 05:49:41 | pg_default |
| 16584 | snaga | public | supplier |    2180 |    73 |    4500004 |   100000 |     0 |     0 |    49185 | 10581946 |          | 2015-07-16 05:48:55 | pg_default |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+---------+----------+--------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |         INDEX         |  BLKS  |   SCAN   |   T_READ  |  T_FTCH  |  B_READ |  B_HIT   | STATUS | TABLESPACE |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+---------+----------+--------+------------+
| 16619 | snaga | public | customer | pk_customer           |   4116 |      312 |       312 |      312 |      73 |      950 |        | pg_default |
| 16638 | snaga | public | customer | i_c_nationkey         |   4116 |        0 |         0 |        0 |      18 |       69 |        | pg_default |
| 16645 | snaga | public | lineitem | i_l_commitdate        | 164480 |        0 |         0 |        0 |      36 |      137 |        | pg_default |
| 16624 | snaga | public | lineitem | pk_lineitem           | 164480 |        0 |         0 |        0 |      38 |      135 |        | pg_default |
| 16631 | snaga | public | lineitem | i_l_shipdate          | 164480 |       36 | 155508898 |       12 |  366795 |    58415 |        | pg_default |
| 16632 | snaga | public | lineitem | i_l_suppkey_partkey   | 164480 |   203959 |   1531079 |  1531079 |   22449 |   798216 |        | pg_default |
| 16633 | snaga | public | lineitem | i_l_partkey           | 164480 |   386449 |  11887539 | 11887539 |   51325 |  1527959 |        | pg_default |
| 16634 | snaga | public | lineitem | i_l_suppkey           | 164480 |      232 |       232 |      232 |     121 |      980 |        | pg_default |
| 16635 | snaga | public | lineitem | i_l_receiptdate       | 164480 |       11 | 100219757 |        0 |  249007 |    25033 |        | pg_default |
| 16636 | snaga | public | lineitem | i_l_orderkey          | 164480 | 10170613 |  17118735 | 17118735 | 1836044 | 38895682 |        | pg_default |
| 16637 | snaga | public | lineitem | i_l_orderkey_quantity | 164480 |      426 |       426 |      426 |     224 |     1653 |        | pg_default |
| 16627 | snaga | public | nation   | pk_nation             |      2 |      416 |       416 |      416 |      33 |      468 |        | pg_default |
| 16644 | snaga | public | nation   | i_n_regionkey         |      2 |        0 |         0 |        0 |      21 |       64 |        | pg_default |
| 16639 | snaga | public | orders   | i_o_orderdate         |  41131 |       51 |  90066028 |       13 |  108815 |   137550 |        | pg_default |
| 16640 | snaga | public | orders   | i_o_custkey           |  41131 |   953317 |    635497 |   635497 |   81700 |  2780923 |        | pg_default |
| 16622 | snaga | public | orders   | pk_orders             |  41131 | 23117495 |  23117495 | 23117495 |  223540 | 69255496 |        | pg_default |
| 16612 | snaga | public | part     | pk_part               |   5487 |      246 |   8001418 |  8001418 |    5528 |    17145 |        | pg_default |
| 16642 | snaga | public | partsupp | i_ps_partkey          |  21937 |    76756 |  24355382 | 24355382 |   63001 |   234164 |        | pg_default |
| 16643 | snaga | public | partsupp | i_ps_suppkey          |  21937 |   119476 |   9544101 |  9544101 |   29222 |   355782 |        | pg_default |
| 16616 | snaga | public | partsupp | pk_partsupp           |  21937 |        0 |         0 |        0 |       7 |       35 |        | pg_default |
| 16629 | snaga | public | region   | pk_region             |      2 |       94 |        94 |       94 |      13 |      119 |        | pg_default |
| 16610 | snaga | public | supplier | pk_supplier           |    276 | 10468887 |  10468887 | 10468887 |    1031 | 20994612 |        | pg_default |
| 16641 | snaga | public | supplier | i_s_nationkey         |    276 |       25 |     98951 |        0 |     179 |      236 |        | pg_default |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+---------+----------+--------+------------+
SET
Timing is on.
                                                                    QUERY PLAN                                                                    
--------------------------------------------------------------------------------------------------------------------------------------------------
 GroupAggregate  (cost=226522.57..226720.94 rows=7935 width=20) (actual time=1920.520..1930.319 rows=7 loops=1)
   Group Key: (substr((customer.c_phone)::text, 1, 2))
   InitPlan 1 (returns $0)
     ->  Aggregate  (cost=74776.74..74776.75 rows=1 width=4) (actual time=861.504..861.504 rows=1 loops=1)
           ->  Seq Scan on customer customer_1  (cost=0.00..74657.21 rows=47810 width=4) (actual time=0.010..832.892 rows=381209 loops=1)
                 Filter: ((c_acctbal > '0'::double precision) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
                 Rows Removed by Filter: 1118791
   ->  Sort  (cost=151745.81..151765.65 rows=7935 width=20) (actual time=1918.854..1921.779 rows=63564 loops=1)
         Sort Key: (substr((customer.c_phone)::text, 1, 2))
         Sort Method: quicksort  Memory: 4516kB
         ->  Nested Loop Anti Join  (cost=0.43..151231.86 rows=7935 width=20) (actual time=861.537..1900.340 rows=63564 loops=1)
               ->  Seq Scan on customer  (cost=0.00..74657.21 rows=17499 width=24) (actual time=861.520..1355.650 rows=190601 loops=1)
                     Filter: ((c_acctbal > $0) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
                     Rows Removed by Filter: 1309399
               ->  Index Only Scan using i_o_custkey on orders  (cost=0.43..48.44 rows=18 width=4) (actual time=0.003..0.003 rows=1 loops=190601)
                     Index Cond: (o_custkey = customer.c_custkey)
                     Heap Fetches: 127037
 Planning time: 0.601 ms
 Execution time: 1930.649 ms
(19 rows)

Time: 1932.387 ms
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |   BLKS  |  SCAN |   T_READ   |  T_INS   | T_UPD | T_DEL |  B_READ  |  B_HIT   | VACUUMED |       ANALYZED      | TABLESPACE |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
| 16593 | snaga | public | customer |   35284 |    99 |  118500000 |  1500000 |     0 |     0 |   875539 |  2149003 |          | 2015-07-16 05:49:04 | pg_default |
| 16599 | snaga | public | lineitem | 1065410 |   111 | 5339566328 | 59986052 |     0 |     0 | 85223458 | 65949076 |          | 2015-07-16 05:49:41 | pg_default |
| 16602 | snaga | public | nation   |       1 | 25758 |     643175 |       25 |     0 |     0 |       13 |    26134 |          | 2015-07-16 05:49:41 | pg_default |
| 16596 | snaga | public | orders   |  253278 |    60 |  720000000 | 15000000 |     0 |     0 | 13993634 | 32255980 |          | 2015-07-16 05:49:16 | pg_default |
| 16587 | snaga | public | part     |   40627 |    70 |   86285507 |  2000000 |     0 |     0 |   716429 |  1474888 |          | 2015-07-16 05:48:56 | pg_default |
| 16590 | snaga | public | partsupp |  170916 |    15 |  104000000 |  8000000 |     0 |     0 |  2235934 | 11096849 |          | 2015-07-16 05:49:04 | pg_default |
| 16605 | snaga | public | region   |       1 |    49 |        177 |        5 |     0 |     0 |        6 |      129 |          | 2015-07-16 05:49:41 | pg_default |
| 16584 | snaga | public | supplier |    2180 |    73 |    4500004 |   100000 |     0 |     0 |    49185 | 10581946 |          | 2015-07-16 05:48:55 | pg_default |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+---------+----------+--------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |         INDEX         |  BLKS  |   SCAN   |   T_READ  |  T_FTCH  |  B_READ |  B_HIT   | STATUS | TABLESPACE |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+---------+----------+--------+------------+
| 16619 | snaga | public | customer | pk_customer           |   4116 |      314 |       314 |      314 |      73 |      957 |        | pg_default |
| 16638 | snaga | public | customer | i_c_nationkey         |   4116 |        0 |         0 |        0 |      18 |       70 |        | pg_default |
| 16645 | snaga | public | lineitem | i_l_commitdate        | 164480 |        0 |         0 |        0 |      36 |      137 |        | pg_default |
| 16624 | snaga | public | lineitem | pk_lineitem           | 164480 |        0 |         0 |        0 |      38 |      135 |        | pg_default |
| 16631 | snaga | public | lineitem | i_l_shipdate          | 164480 |       36 | 155508898 |       12 |  366795 |    58415 |        | pg_default |
| 16632 | snaga | public | lineitem | i_l_suppkey_partkey   | 164480 |   203959 |   1531079 |  1531079 |   22449 |   798216 |        | pg_default |
| 16633 | snaga | public | lineitem | i_l_partkey           | 164480 |   386449 |  11887539 | 11887539 |   51325 |  1527959 |        | pg_default |
| 16634 | snaga | public | lineitem | i_l_suppkey           | 164480 |      232 |       232 |      232 |     121 |      980 |        | pg_default |
| 16635 | snaga | public | lineitem | i_l_receiptdate       | 164480 |       11 | 100219757 |        0 |  249007 |    25033 |        | pg_default |
| 16636 | snaga | public | lineitem | i_l_orderkey          | 164480 | 10170613 |  17118735 | 17118735 | 1836044 | 38895682 |        | pg_default |
| 16637 | snaga | public | lineitem | i_l_orderkey_quantity | 164480 |      426 |       426 |      426 |     224 |     1653 |        | pg_default |
| 16627 | snaga | public | nation   | pk_nation             |      2 |      416 |       416 |      416 |      33 |      468 |        | pg_default |
| 16644 | snaga | public | nation   | i_n_regionkey         |      2 |        0 |         0 |        0 |      21 |       64 |        | pg_default |
| 16639 | snaga | public | orders   | i_o_orderdate         |  41131 |       51 |  90066028 |       13 |  108815 |   137551 |        | pg_default |
| 16640 | snaga | public | orders   | i_o_custkey           |  41131 |  1143920 |    762536 |   762536 |   81700 |  3353242 |        | pg_default |
| 16622 | snaga | public | orders   | pk_orders             |  41131 | 23117495 |  23117495 | 23117495 |  223540 | 69255497 |        | pg_default |
| 16612 | snaga | public | part     | pk_part               |   5487 |      246 |   8001418 |  8001418 |    5528 |    17145 |        | pg_default |
| 16642 | snaga | public | partsupp | i_ps_partkey          |  21937 |    76756 |  24355382 | 24355382 |   63001 |   234164 |        | pg_default |
| 16643 | snaga | public | partsupp | i_ps_suppkey          |  21937 |   119476 |   9544101 |  9544101 |   29222 |   355782 |        | pg_default |
| 16616 | snaga | public | partsupp | pk_partsupp           |  21937 |        0 |         0 |        0 |       7 |       35 |        | pg_default |
| 16629 | snaga | public | region   | pk_region             |      2 |       94 |        94 |       94 |      13 |      119 |        | pg_default |
| 16610 | snaga | public | supplier | pk_supplier           |    276 | 10468887 |  10468887 | 10468887 |    1031 | 20994612 |        | pg_default |
| 16641 | snaga | public | supplier | i_s_nationkey         |    276 |       25 |     98951 |        0 |     179 |      236 |        | pg_default |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+---------+----------+--------+------------+
SET
Timing is on.
                                                                    QUERY PLAN                                                                    
--------------------------------------------------------------------------------------------------------------------------------------------------
 GroupAggregate  (cost=226522.57..226720.94 rows=7935 width=20) (actual time=1919.829..1929.634 rows=7 loops=1)
   Group Key: (substr((customer.c_phone)::text, 1, 2))
   InitPlan 1 (returns $0)
     ->  Aggregate  (cost=74776.74..74776.75 rows=1 width=4) (actual time=862.110..862.110 rows=1 loops=1)
           ->  Seq Scan on customer customer_1  (cost=0.00..74657.21 rows=47810 width=4) (actual time=0.010..831.861 rows=381209 loops=1)
                 Filter: ((c_acctbal > '0'::double precision) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
                 Rows Removed by Filter: 1118791
   ->  Sort  (cost=151745.81..151765.65 rows=7935 width=20) (actual time=1918.160..1921.070 rows=63564 loops=1)
         Sort Key: (substr((customer.c_phone)::text, 1, 2))
         Sort Method: quicksort  Memory: 4516kB
         ->  Nested Loop Anti Join  (cost=0.43..151231.86 rows=7935 width=20) (actual time=862.146..1900.231 rows=63564 loops=1)
               ->  Seq Scan on customer  (cost=0.00..74657.21 rows=17499 width=24) (actual time=862.127..1356.116 rows=190601 loops=1)
                     Filter: ((c_acctbal > $0) AND (substr((c_phone)::text, 1, 2) = ANY ('{14,28,11,17,10,26,30}'::text[])))
                     Rows Removed by Filter: 1309399
               ->  Index Only Scan using i_o_custkey on orders  (cost=0.43..48.44 rows=18 width=4) (actual time=0.003..0.003 rows=1 loops=190601)
                     Index Cond: (o_custkey = customer.c_custkey)
                     Heap Fetches: 127037
 Planning time: 0.592 ms
 Execution time: 1929.956 ms
(19 rows)

Time: 1931.678 ms
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |   BLKS  |  SCAN |   T_READ   |  T_INS   | T_UPD | T_DEL |  B_READ  |  B_HIT   | VACUUMED |       ANALYZED      | TABLESPACE |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
| 16593 | snaga | public | customer |   35284 |   101 |  121500000 |  1500000 |     0 |     0 |   875539 |  2219573 |          | 2015-07-16 05:49:04 | pg_default |
| 16599 | snaga | public | lineitem | 1065410 |   111 | 5339566328 | 59986052 |     0 |     0 | 85223458 | 65949076 |          | 2015-07-16 05:49:41 | pg_default |
| 16602 | snaga | public | nation   |       1 | 25758 |     643175 |       25 |     0 |     0 |       13 |    26134 |          | 2015-07-16 05:49:41 | pg_default |
| 16596 | snaga | public | orders   |  253278 |    60 |  720000000 | 15000000 |     0 |     0 | 13993634 | 32383019 |          | 2015-07-16 05:49:16 | pg_default |
| 16587 | snaga | public | part     |   40627 |    70 |   86285507 |  2000000 |     0 |     0 |   716429 |  1474888 |          | 2015-07-16 05:48:56 | pg_default |
| 16590 | snaga | public | partsupp |  170916 |    15 |  104000000 |  8000000 |     0 |     0 |  2235934 | 11096849 |          | 2015-07-16 05:49:04 | pg_default |
| 16605 | snaga | public | region   |       1 |    49 |        177 |        5 |     0 |     0 |        6 |      129 |          | 2015-07-16 05:49:41 | pg_default |
| 16584 | snaga | public | supplier |    2180 |    73 |    4500004 |   100000 |     0 |     0 |    49185 | 10581946 |          | 2015-07-16 05:48:55 | pg_default |
+-------+-------+--------+----------+---------+-------+------------+----------+-------+-------+----------+----------+----------+---------------------+------------+
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+---------+----------+--------+------------+
|  OID  | OWNER | SCHEMA |  TABLE   |         INDEX         |  BLKS  |   SCAN   |   T_READ  |  T_FTCH  |  B_READ |  B_HIT   | STATUS | TABLESPACE |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+---------+----------+--------+------------+
| 16619 | snaga | public | customer | pk_customer           |   4116 |      316 |       316 |      316 |      73 |      964 |        | pg_default |
| 16638 | snaga | public | customer | i_c_nationkey         |   4116 |        0 |         0 |        0 |      18 |       71 |        | pg_default |
| 16645 | snaga | public | lineitem | i_l_commitdate        | 164480 |        0 |         0 |        0 |      36 |      137 |        | pg_default |
| 16624 | snaga | public | lineitem | pk_lineitem           | 164480 |        0 |         0 |        0 |      38 |      135 |        | pg_default |
| 16631 | snaga | public | lineitem | i_l_shipdate          | 164480 |       36 | 155508898 |       12 |  366795 |    58415 |        | pg_default |
| 16632 | snaga | public | lineitem | i_l_suppkey_partkey   | 164480 |   203959 |   1531079 |  1531079 |   22449 |   798216 |        | pg_default |
| 16633 | snaga | public | lineitem | i_l_partkey           | 164480 |   386449 |  11887539 | 11887539 |   51325 |  1527959 |        | pg_default |
| 16634 | snaga | public | lineitem | i_l_suppkey           | 164480 |      232 |       232 |      232 |     121 |      980 |        | pg_default |
| 16635 | snaga | public | lineitem | i_l_receiptdate       | 164480 |       11 | 100219757 |        0 |  249007 |    25033 |        | pg_default |
| 16636 | snaga | public | lineitem | i_l_orderkey          | 164480 | 10170613 |  17118735 | 17118735 | 1836044 | 38895682 |        | pg_default |
| 16637 | snaga | public | lineitem | i_l_orderkey_quantity | 164480 |      426 |       426 |      426 |     224 |     1653 |        | pg_default |
| 16627 | snaga | public | nation   | pk_nation             |      2 |      416 |       416 |      416 |      33 |      468 |        | pg_default |
| 16644 | snaga | public | nation   | i_n_regionkey         |      2 |        0 |         0 |        0 |      21 |       64 |        | pg_default |
| 16639 | snaga | public | orders   | i_o_orderdate         |  41131 |       51 |  90066028 |       13 |  108815 |   137552 |        | pg_default |
| 16640 | snaga | public | orders   | i_o_custkey           |  41131 |  1334523 |    889575 |   889575 |   81700 |  3925561 |        | pg_default |
| 16622 | snaga | public | orders   | pk_orders             |  41131 | 23117495 |  23117495 | 23117495 |  223540 | 69255498 |        | pg_default |
| 16612 | snaga | public | part     | pk_part               |   5487 |      246 |   8001418 |  8001418 |    5528 |    17145 |        | pg_default |
| 16642 | snaga | public | partsupp | i_ps_partkey          |  21937 |    76756 |  24355382 | 24355382 |   63001 |   234164 |        | pg_default |
| 16643 | snaga | public | partsupp | i_ps_suppkey          |  21937 |   119476 |   9544101 |  9544101 |   29222 |   355782 |        | pg_default |
| 16616 | snaga | public | partsupp | pk_partsupp           |  21937 |        0 |         0 |        0 |       7 |       35 |        | pg_default |
| 16629 | snaga | public | region   | pk_region             |      2 |       94 |        94 |       94 |      13 |      119 |        | pg_default |
| 16610 | snaga | public | supplier | pk_supplier           |    276 | 10468887 |  10468887 | 10468887 |    1031 | 20994612 |        | pg_default |
| 16641 | snaga | public | supplier | i_s_nationkey         |    276 |       25 |     98951 |        0 |     179 |      236 |        | pg_default |
+-------+-------+--------+----------+-----------------------+--------+----------+-----------+----------+---------+----------+--------+------------+
